<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoonBats ‚Äì The UpsideDown NFT Universe</title>
    <meta name="description" content="MoonBats ‚Äî the first NFT collection living upside down. Embrace the #UpsideDown philosophy.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Creepster&family=Chiller&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css?v=1.1">
    
    </head>
<body>
    <!-- Moon Phase Overlay -->
    <div id="moonOverlay" class="moon-overlay" role="dialog" aria-label="Moon phase widget">
      <button id="moonOverlayClose" class="moon-overlay-close" aria-label="Close moon widget">‚úï</button>

      <div class="moon-overlay-inner">
        <div class="moon-graphic" id="moonGraphic" aria-hidden="true"></div>

        <div class="moon-text">
          <div id="moonPhaseName" class="moon-phase-name">Moon Phase</div>
          <div id="moonPhasePct" class="moon-phase-pct">--%</div>
          <div id="moonPhaseSub" class="moon-phase-sub">Local time ¬∑ --</div>
        </div>
      </div>
    </div>

    <button id="moonOverlayToggle" class="moon-overlay-toggle" aria-label="Open moon widget">
      üåô Moon
    </button>

    <!-- Preloader -->
    <div class="preloader">
        <div class="preloader-bats">
            <div class="bat-small">ü¶á</div>
            <div class="bat-medium">ü¶á</div>
            <div class="bat-large">ü¶á</div>
            <div class="bat-small">ü¶á</div>
            <div class="bat-medium">ü¶á</div>
            <div class="bat-small">ü¶á</div>
            <div class="bat-large">ü¶á</div>
            <div class="bat-medium">ü¶á</div>
        </div>
        <div class="main-content">
            <div class="bat-main">ü¶á</div>
            <p style="font-size: 1.4rem;">Entering the Cave...</p>
            <small style="opacity: 0.7; font-size: 1.1rem; margin-top: 1rem; display: block;">Click to enter</small>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="#home" class="logo">MoonBats</a>
            <div class="nav-links">
                <a href="#about">About</a>
                <a href="#timeline">Timeline</a>
                <a href="#team">Team</a>
                <a href="#utility">Utility</a>
                <a href="#ios-game">iOS Game</a>
                <a href="#tokenomics">$BLOOD</a>
                <a href="#gallery">Gallery</a>
                <a href="https://moonbats.stakeaway.io/" target="_blank" class="btn-connect">Staking</a>
            </div>
            <button class="mobile-menu-btn" aria-label="Open menu" aria-expanded="false">‚ò∞</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>MoonBats</h1>
                <h2>The UpsideDown NFT Universe</h2>
                <p class="subtitle">Bats. Vampires. Mutants. Outsiders. Welcome to the cave.</p>
                
                <div class="cta-buttons">
                    <a href="https://moonbats.stakeaway.io/" target="_blank" class="btn btn-primary">Staking</a>
                    <a href="#gallery" class="btn btn-secondary">View Collection</a>
                </div>
                
                <div class="collection-links">
                    <a href="https://opensea.io/collection/moonbatswtf" target="_blank" class="collection-link">
                        <span>MoonBats</span>
                        <small>View on OpenSea ‚Üí</small>
                    </a>
                    <a href="https://opensea.io/collection/moonvampswtf" target="_blank" class="collection-link">
                        <span>MoonVamps</span>
                        <small>View on OpenSea ‚Üí</small>
                    </a>
                    <a href="https://opensea.io/collection/moonmutantswtf" target="_blank" class="collection-link">
                        <span>MoonMutants</span>
                        <small>View on OpenSea ‚Üí</small>
                    </a>
                </div>
            </div>
        </div>
        <div class="cave-overlay"></div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">The UpsideDown Philosophy</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>In a world dominated by conformity, we proudly champion the #UpsideDown philosophy, recognizing that our divergence is not just a departure from the norm but a unique strength that defines us. As a digital collectible, we stand as a beacon of individuality, unyielding in the face of conformity, fearlessly shining in our own distinctive way.</p>
                    <p>Our mission as a community-driven project is to empower creativity, foster innovation in merchandise and gaming, and propel our digital collectibles into the global spotlight as a distinguished brand.</p>
                    <p>Moreover, we aim to introduce the masses to the transformative potential of Web3, ushering in a new era of decentralized and inclusive possibilities.</p>
                </div>
                <div class="about-image">
                    <div class="video-container">
                        <video autoplay muted loop playsinline class="whitebat-video">
                            <source src="assets/whitebat.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline" class="timeline">
        <div class="container">
            <h2 class="section-title">MoonBats Timeline</h2>
            
            <!-- Q3 2022 -->
            <div class="timeline-section">
                <div class="timeline-label">Q3<br>2022</div>
                <div class="timeline-content">
                    <h3>Launch & Early Traction</h3>
                    <ul>
                        <li>Launch of MoonBats NFT collection</li>
                        <li>Supply reduced to 7,500 NFTs (2,500 burned)</li>
                        <li>Rapid growth of an active Discord community</li>
                        <li>Introduction of MoonVamps and MoonMutants</li>
                    </ul>
                </div>
            </div>

            <!-- Q3-Q4 2022 -->
            <div class="timeline-section">
                <div class="timeline-label">Q3‚ÄìQ4<br>2022</div>
                <div class="timeline-content">
                    <h3>Community Takeover (CTO)</h3>
                    <ul>
                        <li>Original founder stepped away</li>
                        <li>Ownership transitioned to community leadership</li>
                        <li>CC0 status confirmed (IP owned by holders)</li>
                        <li>Introduction of VIB cross-collection status</li>
                    </ul>
                </div>
            </div>

            <!-- Q1 2023 -->
            <div class="timeline-section">
                <div class="timeline-label">Q1<br>2023</div>
                <div class="timeline-content">
                    <h3>Project Recovery & Relaunch</h3>
                    <ul>
                        <li>Original developers became inactive</li>
                        <li>Community sustained project independently</li>
                        <li>Official transfer of contracts and IP</li>
                        <li>Relaunch as a fully community-owned project</li>
                    </ul>
                </div>
            </div>

            <!-- Q2-Q4 2023 -->
            <div class="timeline-section">
                <div class="timeline-label">Q2‚ÄìQ4<br>2023</div>
                <div class="timeline-content">
                    <h3>Utility & Engagement</h3>
                    <ul>
                        <li>Launch of gamified community experiences</li>
                        <li>Introduction of an AI-powered community bot</li>
                        <li>Large-scale community events</li>
                        <li>Decision to rebuild $BLOOD for security</li>
                    </ul>
                </div>
            </div>

            <!-- Q1-Q2 2024 -->
            <div class="timeline-section">
                <div class="timeline-label">Q1‚ÄìQ2<br>2024</div>
                <div class="timeline-content">
                    <h3>Product & Token Launch</h3>
                    <ul>
                        <li>Launch of iOS game "MoonBats ‚Äì Upside Down"</li>
                        <li>$BLOOD token launch on BASE</li>
                        <li>Airdrop to existing holders</li>
                        <li>Liquidity pool burned (LP locked)</li>
                    </ul>
                </div>
            </div>

            <!-- Q3-Q4 2024 -->
            <div class="timeline-section">
                <div class="timeline-label">Q3‚ÄìQ4<br>2024</div>
                <div class="timeline-content">
                    <h3>Stabilization</h3>
                    <ul>
                        <li>Release of $BLOOD digital collectibles</li>
                        <li>2-year project anniversary</li>
                        <li>Focus on sustainable growth</li>
                        <li>Community-first positioning</li>
                    </ul>
                </div>
            </div>

            <!-- 2025 -->
            <div class="timeline-section">
                <div class="timeline-label">2025</div>
                <div class="timeline-content">
                    <h3>Growth & Maturity</h3>
                    <ul>
                        <li>$BLOOD reached ~4M USD market cap (ATH)</li>
                        <li>Start of 3D MoonBats development</li>
                        <li>Expansion of token-based utility</li>
                        <li>3 years of uninterrupted continuity</li>
                    </ul>
                </div>
            </div>

            <!-- 2026 -->
            <div class="timeline-section">
                <div class="timeline-label">2026</div>
                <div class="timeline-content">
                    <h3>Utility-First Phase</h3>
                    <ul>
                        <li>Launch of soft-staking</li>
                        <li>Introduction of reward token $GUANO</li>
                        <li>Staking without wallet custody transfer</li>
                        <li>Continued development of 3D character</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Team Section -->
    <section id="team" class="team">
        <div class="container">
            <h2 class="section-title">The Night Watch</h2>
            <div class="team-grid" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem;">
                <div class="team-member">
                    <a href="https://x.com/Arben" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/Arben" alt="Arben" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/arben/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>u«ùq…π…ê</h3>
                    <p class="member-handle">@Arben</p>
                </div>
                <div class="team-member">
                    <a href="https://x.com/BigDaddyErac" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/BigDaddyErac" alt="BigDaddyErac" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/bigdaddyerac/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>∆é</h3>
                    <p class="member-handle">@BigDaddyErac</p>
                </div>
                <div class="team-member">
                    <a href="https://x.com/gurupa_eth" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/gurupa_eth" alt="GuruPa.eth" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/gurupa/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>GuruPa.eth</h3>
                    <p class="member-handle">@gurupa_eth</p>
                </div>
                <div class="team-member">
                    <a href="https://x.com/12012_eth" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/12012_eth" alt="12012" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/12012/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>12012</h3>
                    <p class="member-handle">@12012_eth</p>
                </div>
                <div class="team-member">
                    <a href="https://x.com/ACEBLVZER" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/ACEBLVZER" alt="ACŒû BL‚àÄZŒûR" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/aceblvzer/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>ACŒû BL‚àÄZŒûR</h3>
                    <p class="member-handle">@ACEBLVZER</p>
                </div>
                <div class="team-member">
                    <a href="https://x.com/h0nkY_swiss" target="_blank" class="member-avatar-link" style="text-decoration: none; display: block;">
                        <div class="member-avatar" style="position: relative; cursor: pointer; transition: transform 0.3s ease;">
                            <img src="https://unavatar.io/twitter/h0nkY_swiss" alt="h0nkY_swiss" loading="lazy" class="team-avatar-img" data-fallback="https://picsum.photos/seed/h0nky/150/150.jpg"
                                 style="width: 100%; height: auto; border-radius: 50%; transition: transform 0.3s ease;">
                        </div>
                    </a>
                    <h3>h0nkY</h3>
                    <p class="member-handle">@h0nkY_swiss</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 100px spacing between Team and Utility -->
    <div style="height: 100px;"></div>
    
    <!-- Utility Section -->
    <section id="utility" class="utility">
        <div class="container">
            <h2 class="section-title">The Power of the Night</h2>
            <div class="utility-grid">
                <div class="utility-card">
                    <div class="utility-icon">ü¶á</div>
                    <h3>MoonBats</h3>
                    <p>Your entry to the cave. Holders get exclusive access to future drops and events.</p>
                </div>
                <div class="utility-card">
                    <div class="utility-icon">üßõ</div>
                    <h3>MoonVamps</h3>
                    <p>Enhanced traits and special abilities within the MoonBats ecosystem.</p>
                </div>
                <div class="utility-card">
                    <div class="utility-icon">üß¨</div>
                    <h3>MoonMutants</h3>
                    <p>Rare hybrids with unique combinations of traits and powers.</p>
                </div>
                <div class="utility-card">
                    <div class="utility-icon">ü©∏</div>
                    <h3>$BLOOD Token</h3>
                    <p>Governance, staking rewards, and access to exclusive content.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 100px spacing between Utility and iOS Game -->
    <div style="height: 100px;"></div>
    
    <!-- iOS Game Section -->
    <section id="ios-game" class="ios-game">
        <div class="container">
            <h2 class="section-title">MoonBats ‚Äì UpsideDown</h2>
            
            <div class="game-content">
                <!-- Game Intro -->
                <div class="game-intro">
                    <p class="game-tagline">Embark on a daring flight adventure. Evade hazards, collect blood, and explore the depths of mysterious caves.</p>
                    <p class="game-description">MoonBats ‚Äì UpsideDown invites players into a mystical world of nocturnal adventure, where endless flight meets community competition. Navigate dark, storm-lit caves filled with challenges and surprises, in a game shaped by the MoonBats community.</p>
                </div>
                
                <!-- iPhone Mockup -->
                <div class="iphone-mockup">
                    <div class="iphone-frame">
                        <div class="iphone-screen">
                            <div class="game-screenshot">
                                <div class="slideshow-container">
                                    <div class="slide active">
                                        <img src="assets/game-screenshot-1.jpg.jpg" alt="MoonBats Game Screenshot 1" class="game-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                        <div class="fallback-content" style="display: none;">
                                            <div class="cave-background">
                                                <div class="bat-character">ü¶á</div>
                                                <div class="lightning">‚ö°</div>
                                                <div class="blood-drop">ü©∏</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slide">
                                        <img src="assets/game-screenshot-2.jpg.jpg" alt="MoonBats Game Screenshot 2" class="game-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                        <div class="fallback-content" style="display: none;">
                                            <div class="cave-background">
                                                <div class="bat-character">ü¶á</div>
                                                <div class="lightning">‚ö°</div>
                                                <div class="blood-drop">ü©∏</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="slide">
                                        <img src="assets/game-screenshot-3.jpg.jpg" alt="MoonBats Game Screenshot 3" class="game-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                        <div class="fallback-content" style="display: none;">
                                            <div class="cave-background">
                                                <div class="bat-character">ü¶á</div>
                                                <div class="lightning">‚ö°</div>
                                                <div class="blood-drop">ü©∏</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Features -->
                <div class="game-features">
                    <h3>Game Features</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">üåë</div>
                            <h4>Mystical Cave Exploration</h4>
                            <p>Lightning-driven, unpredictable cave environments.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üëÜ</div>
                            <h4>Simple, Engaging Gameplay</h4>
                            <p>One-tap flight controls.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üíé</div>
                            <h4>Collectibles & Survival</h4>
                            <p>Collect blood and items, survive with three lives.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üèÜ</div>
                            <h4>Achievements & Game Center</h4>
                            <p>30 achievements and direct challenges.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üìä</div>
                            <h4>Competitive Leaderboards</h4>
                            <p>Blood, Points, and Bat Friend rankings.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üéµ</div>
                            <h4>Immersive Audio-Visual Experience</h4>
                            <p>Dark visuals and captivating soundtrack.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Community Callout -->
            <div class="community-callout">
                <p class="callout-text">"Every flight is a new challenge, and every challenge is an opportunity to prove your skills."</p>
            </div>
            
            <!-- CTA Section -->
            <div class="game-cta">
                <a href="https://apps.apple.com/us/app/moonbats-upside-down/id6474078314"
                   target="_blank"
                   rel="noopener"
                   class="ios-badge-wrap"
                   aria-label="Download MoonBats ‚Äì UpsideDown on the App Store">

                  <img
                    src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg"
                    alt="Download on the App Store"
                    class="ios-badge-img" />

                  <span class="ios-badge-sub">Available now ¬∑ Official App Store</span>
                </a>
                <p class="nebra-effect">Achieve the Nebra Effect</p>
            </div>
        </div>
    </section>

    <!-- 100px spacing between iOS Game and Tokenomics -->
    <div style="height: 100px;"></div>
    
    <!-- Tokenomics Section -->
    <section id="tokenomics" class="tokenomics">
        <div class="container">
            <h2 class="section-title">$BLOOD Tokenomics</h2>
            
            <!-- Token Info Cards -->
            <div class="token-info-grid">
                <div class="token-card">
                    <h3>Total Supply</h3>
                    <div class="token-value" id="total-supply"></div>
                </div>
                <div class="token-card">
                    <h3>Contract Address</h3>
                    <div class="contract-container">
                        <div class="token-value contract-address" id="contract-address"></div>
                        <button class="copy-btn" id="copy-contract">üìã Copy</button>
                    </div>
                    <div class="copy-feedback" id="copy-feedback">Copied!</div>
                </div>
            </div>

            <!-- Token Distribution -->
            <div class="token-distribution">
                <!-- Tooltip Slot -->
                <div class="tooltip-slot">
                    <div class="distribution-tooltip" id="distribution-tooltip">
                        <div class="tooltip-content">
                            <span class="tooltip-text"></span>
                            <button class="tooltip-close" id="tooltip-close" aria-label="Close tooltip">√ó</button>
                        </div>
                        <div class="tooltip-caret"></div>
                    </div>
                </div>
                
                <!-- Pie Chart -->
                <div class="pie-chart-container">
                    <div class="pie-chart" id="pie-chart">
                        <div class="pie-center">
                            <div class="pie-symbol"></div>
                            <div class="pie-total"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Distribution List -->
                <div class="distribution-list" id="distribution-list">
                    <!-- Items will be generated from tokenomics data -->
                </div>
            </div>
        </div>
    </section>

    <!-- 100px spacing between Tokenomics and Gallery -->
    <div style="height: 100px;"></div>
    
    <!-- Web3 NFT Gallery Section -->
    <section id="gallery" class="web3-gallery">
        <div class="container">
            <h2 class="section-title">The Colony</h2>
            
            <div class="gallery-controls">
                <button data-filter="all" class="active" aria-label="Show all NFTs">All</button>
                <button data-filter="moonbats" aria-label="Show MoonBats only">MoonBats</button>
                <button data-filter="moonvamps" aria-label="Show MoonVamps only">MoonVamps</button>
                <button data-filter="moonmutants" aria-label="Show MoonMutants only">MoonMutants</button>
            </div>

            <!-- Loading State -->
            <div id="gallery-loading" class="gallery-loading" aria-live="polite">
                <div class="skeleton-grid">
                    <!-- Skeleton items -->
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                    <div class="skeleton-card" aria-hidden="true"></div>
                </div>
                <p>Loading NFTs...</p>
            </div>

            <!-- Error State -->
            <div id="gallery-error" class="gallery-error" style="display: none;" role="alert">
                <h3>Unable to load NFTs</h3>
                <p id="error-message">Please try again later.</p>
                <button id="retry-btn" class="retry-btn">Retry</button>
            </div>

            <div id="gallery-grid" class="gallery-grid" style="display: none;" role="grid" aria-label="NFT Gallery"></div>
        </div>
    </section>

    <!-- 100px spacing between gallery and FAQ -->
    <div style="height: 100px;"></div>
        </div>
    </div>
    
    
    <!-- FAQ Section -->
    <section id="faq" class="faq">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <h3>What is MoonBats?</h3>
                    <p>MoonBats is an NFT collection featuring unique, algorithmically generated bats living in the UpsideDown universe.</p>
                </div>
                <div class="faq-item">
                    <h3>How do I mint?</h3>
                    <p>Connect your wallet and click the mint button. Ensure you have enough ETH for the mint price and gas fees.</p>
                </div>
                <div class="faq-item">
                    <h3>What is $BLOOD token?</h3>
                    <p>$BLOOD is the utility token of the MoonBats ecosystem, used for governance, staking, and accessing exclusive content.</p>
                </div>
                <div class="faq-item">
                    <h3>What's the difference between MoonBats, MoonVamps, and MoonMutants?</h3>
                    <p>They represent different tiers and rarities within the ecosystem, each with unique traits and utilities.</p>
                </div>
                <div class="faq-item">
                    <h3>How can I join the community?</h3>
                    <p>Join our Discord and follow us on Twitter to stay updated and connect with fellow MoonBats holders.</p>
                </div>
                <div class="faq-item">
                    <h3>Is there a roadmap?</h3>
                    <p>Yes! Check out our timeline section above to see our journey and plans for the MoonBats ecosystem.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 100px spacing between FAQ and Contact -->
    <div style="height: 100px;"></div>
    
    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Find Us in the Dark</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Official Links</h3>
                    <p>These are the only official links for MoonBats! Do NOT click anything not listed on this site.</p>
                    
                    <div class="social-grid">
  <!-- Discord -->
  <a class="social-btn" href="https://discord.gg/moonbats" target="_blank" rel="noopener">
    <div class="social-left">
      <div class="social-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="img" aria-label="Discord">
          <path d="M19.5 4.3a16.2 16.2 0 0 0-4-1.3l-.2.4a15 15 0 0 1 3.1 1.2 12.5 12.5 0 0 0-4.6-1.4 12.1 12.1 0 0 0-3.7 0 12.5 12.5 0 0 0-4.6 1.4A15 15 0 0 1 8.6 3l-.2-.4a16.2 16.2 0 0 0-4 1.3C2.3 7 1.7 10.1 1.9 13.2c1.7 1.2 3.3 2 4.9 2.4l.6-2a8.5 8.5 0 0 1-1.6-.7l.4-.3c3 1.4 6.3 1.4 9.4 0l.4.3c-.5.3-1 .5-1.6.7l.6 2c1.6-.4 3.2-1.2 4.9-2.4.3-3.6-.5-6.6-2.4-8.9ZM9.3 13c-.7 0-1.3-.6-1.3-1.4 0-.7.6-1.4 1.3-1.4.7 0 1.3.6 1.3 1.4 0 .7-.6 1.4-1.3 1.4Zm5.4 0c-.7 0-1.3-.6-1.3-1.4 0-.7.6-1.4 1.3-1.4.7 0 1.3.6 1.3 1.4 0 .7-.6 1.4-1.3 1.4Z"/>
        </svg>
      </div>
      <div class="social-label">
        <strong>Discord</strong>
        <span>Join the cave</span>
      </div>
    </div>
      </a>

  <!-- X / Twitter -->
  <a class="social-btn" href="https://twitter.com/Moon_Bats" target="_blank" rel="noopener">
    <div class="social-left">
      <div class="social-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="img" aria-label="X">
          <path d="M18.9 2H22l-6.8 7.8L23.3 22h-6.7l-5.2-6.6L5.6 22H2.5l7.3-8.4L1 2h6.9l4.7 6.1L18.9 2Zm-1.2 18h1.7L6.8 3.9H5L17.7 20Z"/>
        </svg>
      </div>
      <div class="social-label">
        <strong>X / Twitter</strong>
        <span>Official updates</span>
      </div>
    </div>
      </a>

  <!-- Instagram -->
  <a class="social-btn" href="https://www.instagram.com/MoonBats4Life" target="_blank" rel="noopener">
    <div class="social-left">
      <div class="social-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="img" aria-label="Instagram">
          <path d="M7.8 2h8.4A5.8 5.8 0 0 1 22 7.8v8.4A5.8 5.8 0 0 1 16.2 22H7.8A5.8 5.8 0 0 1 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2Zm8.4 2H7.8A3.8 3.8 0 0 0 4 7.8v8.4A3.8 3.8 0 0 0 7.8 20h8.4a3.8 3.8 0 0 0 3.8-3.8V7.8A3.8 3.8 0 0 0 16.2 4ZM12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm5.7-2.2a1.2 1.2 0 1 1 0 2.4 1.2 1.2 0 0 1 0-2.4Z"/>
        </svg>
      </div>
      <div class="social-label">
        <strong>Instagram</strong>
        <span>Art & community</span>
      </div>
    </div>
      </a>

  <!-- X Community -->
  <a class="social-btn" href="https://twitter.com/i/communities/1567868413992902659" target="_blank" rel="noopener">
    <div class="social-left">
      <div class="social-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" role="img" aria-label="Community">
          <path d="M16 11c1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3 1.3 3 3 3Zm-8 0c1.7 0 3-1.3 3-3S9.7 5 8 5 5 6.3 5 8s1.3 3 3 3Zm0 2c-2.3 0-7 1.2-7 3.5V19h14v-2.5C15 14.2 10.3 13 8 13Zm8 0c-.3 0-.7 0-1.1.1 1.6.9 2.6 2 2.6 3.4V19h6v-2.5c0-2.3-4.7-3.5-7.5-3.5Z"/>
        </svg>
      </div>
      <div class="social-label">
        <strong>X Community</strong>
        <span>Talk with bats</span>
      </div>
    </div>
      </a>
</div>
                    
                                        
                    <div class="wallets">
                        <h4>Community Wallets</h4>
                        <div class="wallet-grid">
                            <div class="wallet-card">
                                <div class="wallet-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                                    </svg>
                                </div>
                                <div class="wallet-info">
                                    <h5>Community MetaMask Wallet:</h5>
                                    <div class="wallet-address-container">
                                        <span class="wallet-address" data-full="0x58Bb6527113fc35340bBde2881A64230222E46e2">0x58Bb6527113fc35340bBde2881A64230222E46e2</span>
                                        <button class="copy-btn" data-address="0x58Bb6527113fc35340bBde2881A64230222E46e2">üìã</button>
                                    </div>
                                </div>
                            </div>
                            <div class="wallet-card">
                                <div class="wallet-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                                    </svg>
                                </div>
                                <div class="wallet-info">
                                    <h5>Community Safe Wallet:</h5>
                                    <div class="wallet-address-container">
                                        <span class="wallet-address" data-full="0x252720b607460E42f2DE809Ee06c452Ab4f9C0ab">0x252720b607460E42f2DE809Ee06c452Ab4f9C0ab</span>
                                        <button class="copy-btn" data-address="0x252720b607460E42f2DE809Ee06c452Ab4f9C0ab">üìã</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 100px spacing between Contact and Footer -->
    <div style="height: 100px;"></div>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">MoonBats</div>
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#about">About</a>
                    <a href="#timeline">Timeline</a>
                    <a href="#team">Team</a>
                    <a href="#utility">Utility</a>
                    <a href="#ios-game">iOS Game</a>
                    <a href="#tokenomics">$BLOOD</a>
                    <a href="#gallery">Gallery</a>
                    <a href="#faq">FAQ</a>
                    <a href="#contact">Contact</a>
                </div>
                <div class="footer-legal">
                    <p> 2024 MoonBats. All rights reserved.</p>
                    <div class="legal-links">
                        <a href="#terms">Terms of Service</a>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#cookie-policy">Cookie Policy</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Hidden Legal Content Containers -->
    <div id="legal-content" style="display: none;">
        <!-- Terms of Service Content -->
        <div id="terms-content" class="legal-text">
            <div class="terms-header">
                <p><strong>Last updated: 02.2026</strong></p>
                <p>Welcome to MoonBats website (the "Website"). By accessing or using this Website, you agree to be bound by these Terms of Service ("Terms"). If you do not agree, please do not use Website.</p>
            </div>

            <div class="terms-section">
                <h3>1. Acceptance of Terms</h3>
                <p>By accessing or using Website, you acknowledge that you have read, understood, and agree to these Terms. These Terms apply to all visitors, users, and members of MoonBats community.</p>
            </div>

            <div class="terms-section">
                <h3>2. No Financial or Investment Advice</h3>
                <p>Nothing on this Website constitutes financial, investment, legal, or tax advice.</p>
                <p>MoonBats NFTs and $BLOOD token are not investment products. Any information provided is for informational and entertainment purposes only. You are solely responsible for your own decisions and actions.</p>
            </div>

            <div class="terms-section">
                <h3>3. NFT Ownership & CC0 License</h3>
                <p>MoonBats NFTs are released under CC0 (Creative Commons Zero).</p>
                <p>This means:</p>
                <ul>
                    <li>All MoonBats artwork is in the public domain</li>
                    <li>You may use, copy, modify, distribute, and commercialize the artwork without restriction</li>
                    <li>No attribution is required</li>
                    <li>Ownership of an NFT does not grant exclusive rights</li>
                </ul>
                <p>The MoonBats team makes no claims of exclusive intellectual property rights over CC0 artwork.</p>
            </div>

            <div class="terms-section">
                <h3>4. $BLOOD Token Disclaimer</h3>
                <p>The $BLOOD token is a utility token intended for use within MoonBats ecosystem.</p>
                <ul>
                    <li>$BLOOD does not represent equity, ownership, profit-sharing, or voting rights</li>
                    <li>$BLOOD is not a security</li>
                    <li>There is no guarantee of value, liquidity, utility, or future development</li>
                    <li>Use of $BLOOD is entirely at your own risk</li>
                </ul>
            </div>

            <div class="terms-section">
                <h3>5. Website Availability</h3>
                <p>The Website and its features are provided on an "as is" and "as available" basis.</p>
                <p>We do not guarantee that:</p>
                <ul>
                    <li>the Website will always be available</li>
                    <li>the Website will be uninterrupted or error-free</li>
                    <li>any content will remain permanently accessible</li>
                </ul>
                <p>We reserve the right to modify, suspend, or discontinue any part of the Website at any time.</p>
            </div>

            <div class="terms-section">
                <h3>6. Third-Party Services</h3>
                <p>The Website may include links or integrations with third-party services, including but not limited to:</p>
                <ul>
                    <li>OpenSea</li>
                    <li>Blockchain networks</li>
                    <li>Wallet providers</li>
                    <li>Discord, X (Twitter), Telegram, or other social platforms</li>
                </ul>
                <p>We are not responsible for content, availability, security, or practices of any third-party services.</p>
            </div>

            <div class="terms-section">
                <h3>7. User Conduct</h3>
                <p>You agree not to:</p>
                <ul>
                    <li>engage in unlawful, abusive, or harmful behavior</li>
                    <li>attempt to disrupt or exploit the Website</li>
                    <li>use the Website in a way that could damage the MoonBats community or its reputation</li>
                </ul>
                <p>We reserve the right to restrict access to the Website for violations of these Terms.</p>
            </div>

            <div class="terms-section">
                <h3>8. Limitation of Liability</h3>
                <p>To the maximum extent permitted by law, MoonBats and its contributors shall not be liable for any direct, indirect, incidental, consequential, or special damages arising from or related to:</p>
                <ul>
                    <li>use of the Website</li>
                    <li>NFTs or tokens</li>
                    <li>blockchain transactions</li>
                    <li>third-party services</li>
                </ul>
                <p>Your use of the Website is entirely at your own risk.</p>
            </div>

            <div class="terms-section">
                <h3>9. Indemnification</h3>
                <p>You agree to indemnify and hold harmless MoonBats and its contributors from any claims, damages, liabilities, or expenses arising from:</p>
                <ul>
                    <li>your use of the Website</li>
                    <li>your use of MoonBats NFTs or $BLOOD</li>
                    <li>your violation of these Terms</li>
                </ul>
            </div>

            <div class="terms-section">
                <h3>10. Changes to Terms</h3>
                <p>We may update these Terms at any time. Continued use of the Website after changes constitutes acceptance of the updated Terms.</p>
            </div>

            <div class="terms-section">
                <h3>11. Governing Law</h3>
                <p>These Terms shall be governed by and construed in accordance with the laws of the United States of America, without regard to conflict of law principles.</p>
            </div>

            <div class="terms-section">
                <h3>12. Contact</h3>
                <p>For questions regarding these Terms, please contact us through the official MoonBats channels listed on this Website.</p>
            </div>
        </div>

        <!-- Privacy Policy Content -->
        <div id="privacy-content" class="legal-text">
            <div class="terms-header">
                <p><strong>Last updated: 02.2026</strong></p>
                <p>This Privacy Policy explains how MoonBats ("we," "us," or "our") collects, uses, and protects information when you visit or interact with the MoonBats website (the "Website").</p>
                <p>We respect your privacy and are committed to transparency.</p>
            </div>

            <div class="terms-section">
                <h3>1. Information We Collect</h3>
                <div class="terms-subsection">
                    <h4>1.1 Information You Provide Voluntarily</h4>
                    <p>We may collect information that you voluntarily provide, such as:</p>
                    <ul>
                        <li>Messages sent via contact forms</li>
                        <li>Communications through Discord, X (Twitter), Telegram, or email</li>
                        <li>Wallet addresses, only if you choose to connect a wallet</li>
                    </ul>
                    <p>We do not require account creation to use the Website.</p>
                </div>
                <div class="terms-subsection">
                    <h4>1.2 Automatically Collected Information</h4>
                    <p>When you visit the Website, certain information may be collected automatically, including:</p>
                    <ul>
                        <li>IP address</li>
                        <li>Browser type and device information</li>
                        <li>Pages visited and interaction data</li>
                        <li>Referring URLs</li>
                    </ul>
                    <p>This information is used for basic analytics, security, and performance optimization.</p>
                </div>
            </div>

            <div class="terms-section">
                <h3>2. Blockchain & Wallet Data</h3>
                <p>Blockchain technology is public by design.</p>
                <ul>
                    <li>Wallet addresses</li>
                    <li>Transaction hashes</li>
                    <li>NFT ownership data</li>
                </ul>
                <p>are publicly available on the blockchain and not controlled by us.</p>
                <p>We do not store private keys, seed phrases, or login credentials.</p>
            </div>

            <div class="terms-section">
                <h3>3. Cookies & Similar Technologies</h3>
                <p>The Website may use limited cookies or similar technologies for:</p>
                <ul>
                    <li>basic functionality</li>
                    <li>performance analytics</li>
                    <li>improving user experience</li>
                </ul>
                <p>We do not use cookies for targeted advertising or profiling.</p>
                <p>You can disable cookies in your browser settings at any time.</p>
            </div>

            <div class="terms-section">
                <h3>4. Use of Third-Party Services</h3>
                <p>We may use third-party services to operate or enhance the Website, including but not limited to:</p>
                <ul>
                    <li>OpenSea API</li>
                    <li>Blockchain infrastructure providers</li>
                    <li>Analytics tools</li>
                    <li>Social media platforms (Discord, X, Telegram)</li>
                </ul>
                <p>These third parties have their own privacy policies, and we are not responsible for their practices.</p>
            </div>

            <div class="terms-section">
                <h3>5. How We Use Information</h3>
                <p>Information collected may be used to:</p>
                <ul>
                    <li>operate and maintain the Website</li>
                    <li>improve functionality and user experience</li>
                    <li>monitor security and prevent abuse</li>
                    <li>respond to inquiries and community communication</li>
                </ul>
                <p>We do not sell personal data.</p>
            </div>

            <div class="terms-section">
                <h3>6. Data Sharing</h3>
                <p>We do not sell, rent, or trade personal information.</p>
                <p>Information may be shared only:</p>
                <ul>
                    <li>if required by law</li>
                    <li>to protect the rights, safety, or security of users or the Website</li>
                    <li>with service providers strictly necessary to operate the Website</li>
                </ul>
            </div>

            <div class="terms-section">
                <h3>7. Data Security</h3>
                <p>We implement reasonable technical and organizational measures to protect information.</p>
                <p>However, no system is completely secure, and we cannot guarantee absolute security‚Äîespecially regarding blockchain-based technologies.</p>
            </div>

            <div class="terms-section">
                <h3>8. International Users</h3>
                <p>The Website is accessible worldwide.</p>
                <p>By using the Website, you acknowledge that your information may be processed in jurisdictions that may have different data protection laws than your country of residence.</p>
            </div>

            <div class="terms-section">
                <h3>9. Children's Privacy</h3>
                <p>The Website is not intended for children under the age of 13.</p>
                <p>We do not knowingly collect personal information from children.</p>
            </div>

            <div class="terms-section">
                <h3>10. Your Rights</h3>
                <p>Depending on your location, you may have rights regarding your personal data, including:</p>
                <ul>
                    <li>the right to access information</li>
                    <li>the right to request correction or deletion</li>
                    <li>the right to object to certain processing activities</li>
                </ul>
                <p>Requests can be made through the official MoonBats contact channels listed on the Website.</p>
            </div>

            <div class="terms-section">
                <h3>11. Changes to This Privacy Policy</h3>
                <p>We may update this Privacy Policy from time to time.</p>
                <p>Changes will be effective immediately upon posting. Continued use of the Website constitutes acceptance of the updated policy.</p>
            </div>

            <div class="terms-section">
                <h3>12. Contact</h3>
                <p>For privacy-related questions or concerns, please contact us through the official MoonBats communication channels listed on this Website.</p>
            </div>
        </div>

        <!-- Cookie Policy Content -->
        <div id="cookie-policy-content" class="legal-text">
            <div class="terms-header">
                <p><strong>Last updated: 02.2026</strong></p>
                <p>This Cookie Policy explains how MoonBats ("we," "us," or "our") uses cookies and similar technologies on the MoonBats website (the "Website").</p>
            </div>

            <div class="terms-section">
                <h3>1. What Are Cookies?</h3>
                <p>Cookies are small text files stored on your device when you visit a website. They help websites function properly, improve user experience, and provide basic analytical insights.</p>
            </div>

            <div class="terms-section">
                <h3>2. Types of Cookies We Use</h3>
                <div class="terms-subsection">
                    <h4>2.1 Essential Cookies</h4>
                    <p>These cookies are strictly necessary for Website to function correctly.</p>
                    <p>They may include:</p>
                    <ul>
                        <li>security-related cookies</li>
                        <li>cookies that enable core functionality</li>
                        <li>settings required to deliver the Website</li>
                    </ul>
                    <p>These cookies cannot be disabled.</p>
                </div>
                <div class="terms-subsection">
                    <h4>2.2 Analytics & Performance Cookies</h4>
                    <p>We may use limited analytics tools to understand how visitors interact with the Website, such as:</p>
                    <ul>
                        <li>pages visited</li>
                        <li>time spent on the Website</li>
                        <li>general usage patterns</li>
                    </ul>
                    <p>This information is aggregated and anonymized and used solely to improve performance and usability.</p>
                </div>
                <div class="terms-subsection">
                    <h4>2.3 Third-Party Cookies</h4>
                    <p>Some third-party services linked to or integrated with the Website may set their own cookies, including but not limited to:</p>
                    <ul>
                        <li>analytics providers</li>
                        <li>blockchain infrastructure services</li>
                        <li>social media platforms (e.g., Discord, X/Twitter)</li>
                    </ul>
                    <p>We do not control these cookies. Please refer to the respective third-party privacy and cookie policies for more information.</p>
                </div>
            </div>

            <div class="terms-section">
                <h3>3. What We Do Not Use</h3>
                <p>We do not use cookies for:</p>
                <ul>
                    <li>targeted advertising</li>
                    <li>behavioral profiling</li>
                    <li>selling personal data</li>
                    <li>cross-site tracking for marketing purposes</li>
                </ul>
            </div>

            <div class="terms-section">
                <h3>4. Managing Cookies</h3>
                <p>You can manage or disable cookies through your browser settings at any time.</p>
                <p>Please note that disabling certain cookies may affect the functionality of the Website.</p>
            </div>

            <div class="terms-section">
                <h3>5. Blockchain & Wallet Interactions</h3>
                <p>Blockchain-based interactions (such as connecting a wallet) do not rely on cookies managed by MoonBats.</p>
                <p>Wallet providers and blockchain networks operate independently and may have their own data practices.</p>
            </div>

            <div class="terms-section">
                <h3>6. Changes to This Cookie Policy</h3>
                <p>We may update this Cookie Policy from time to time.</p>
                <p>Any changes will be effective immediately upon posting on the Website. Continued use of the Website constitutes acceptance of the updated Cookie Policy.</p>
            </div>

            <div class="terms-section">
                <h3>7. Contact</h3>
                <p>For questions regarding this Cookie Policy, please contact us through the official MoonBats communication channels listed on the Website.</p>
            </div>
        </div>
    </div>

    <!-- Legal Modal Component -->
    <div id="legal-modal" class="legal-modal" aria-hidden="true" role="dialog" aria-labelledby="legal-modal-title">
        <div class="legal-modal-backdrop" id="legal-modal-backdrop"></div>
        <div class="legal-modal-content">
            <div class="legal-modal-header">
                <h2 id="legal-modal-title" class="legal-modal-title">Legal Information</h2>
                <button id="legal-modal-close" class="legal-modal-close" aria-label="Close modal">√ó</button>
            </div>
            <div class="legal-modal-body" id="legal-modal-body">
                <!-- Content will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Cookie Banner (MoonBats Dark Web3) -->
    <div id="cookie-banner" class="mb-cookie-banner" aria-live="polite" aria-label="Cookie consent banner">
      <div class="mb-cookie-card">
        <div class="mb-cookie-header">
          <div class="mb-cookie-title">üç™ Cookies & Privacy</div>
          <button class="mb-cookie-x" id="cookie-close" aria-label="Close cookie banner">√ó</button>
        </div>

        <div class="mb-cookie-text">
          We use essential cookies to run this website. With your permission, we may also use analytics cookies to improve performance.
          You can change your choice anytime.
          <a href="#cookie-policy" class="mb-cookie-link">Cookie Policy</a>
          <span class="mb-cookie-sep">¬∑</span>
          <a href="#privacy" class="mb-cookie-link">Privacy Policy</a>
        </div>

        <div class="mb-cookie-actions">
          <button id="cookie-reject" class="mb-btn mb-btn-ghost">Reject</button>
          <button id="cookie-settings" class="mb-btn mb-btn-ghost">Settings</button>
          <button id="cookie-accept" class="mb-btn mb-btn-primary">Accept</button>
        </div>

        <!-- Settings Panel -->
        <div id="cookie-settings-panel" class="mb-cookie-settings" hidden>
          <div class="mb-cookie-setting-row">
            <div>
              <div class="mb-cookie-setting-name">Essential Cookies</div>
              <div class="mb-cookie-setting-desc">Required for the website to function.</div>
            </div>
            <div class="mb-cookie-pill mb-cookie-pill-fixed">Always On</div>
          </div>

          <div class="mb-cookie-setting-row">
            <div>
              <div class="mb-cookie-setting-name">Analytics Cookies</div>
              <div class="mb-cookie-setting-desc">Help us understand traffic and improve the site.</div>
            </div>
            <label class="mb-switch" aria-label="Toggle analytics cookies">
              <input id="cookie-analytics-toggle" type="checkbox">
              <span class="mb-slider"></span>
            </label>
          </div>

          <div class="mb-cookie-actions mb-cookie-actions-settings">
            <button id="cookie-save" class="mb-btn mb-btn-primary">Save Settings</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" aria-label="Back to top">‚Üë</button>

    <!-- Essential App Functions (CSP Compliant) -->
    <script>
        // Wait for the DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize essential components only
            initPreloader();
            initMobileMenu();
            initSmoothScrolling();
            initBackToTop();
            
            // Add active class to nav links on scroll
            window.addEventListener('scroll', highlightNavLink);
            
            // Initial check for scroll position
            window.dispatchEvent(new Event('scroll'));
        });

        // Preloader
        function initPreloader() {
            const preloader = document.querySelector('.preloader');
            if (preloader) {
                // Hide preloader when user clicks on it
                preloader.addEventListener('click', () => {
                    preloader.style.opacity = '0';
                    preloader.style.visibility = 'hidden';
                });
                
                // Add cursor pointer to indicate it's clickable
                preloader.style.cursor = 'pointer';
            }
        }

        // Mobile menu toggle
        function initMobileMenu() {
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const nav = document.querySelector('nav');
            
            if (mobileMenuToggle && nav) {
                mobileMenuToggle.addEventListener('click', () => {
                    nav.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                });
            }
        }

        // Smooth scrolling for anchor links
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Back to top button
        function initBackToTop() {
            const backToTopBtn = document.getElementById('backToTop');
            
            if (backToTopBtn) {
                // Show/hide button based on scroll position
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        backToTopBtn.style.display = 'block';
                    } else {
                        backToTopBtn.style.display = 'none';
                    }
                });
                
                // Scroll to top when clicked
                backToTopBtn.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }
        }

        // Highlight active nav link
        function highlightNavLink() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('nav a[href^="#"]');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }
    </script>
    
    <style>
        /* Team Avatar Hover Effects */
        .member-avatar-link:hover .member-avatar {
            transform: scale(1.1);
        }
        
        .member-avatar-link:hover .member-avatar img {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(212, 0, 0, 0.4);
        }
        
        .member-avatar {
            overflow: hidden;
            border-radius: 50%;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .member-avatar-link:hover .member-avatar {
            border-color: var(--primary);
        }
    </style>
    
    <!-- Optimized Gallery Styles -->
    <style>
        .gallery-controls { display:flex; gap:.5rem; margin-bottom:1rem; flex-wrap:wrap; }
        .gallery-controls button { background:#111; color:#fff; border:1px solid #333; padding:.5rem .75rem; cursor:pointer; border-radius:6px; transition:all .2s; }
        .gallery-controls button:hover { background:#222; border-color:#555; }
        .gallery-controls button:focus { outline:2px solid #D40000; outline-offset:2px; }
        .gallery-controls button.active { border-color:#D40000; background:#D40000; }

        .gallery-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px; }
        .nft-card { background:#0c0c0f; border:1px solid #1e1e28; border-radius:10px; overflow:hidden; cursor:pointer; transition:transform .2s, box-shadow .2s; }
        .nft-card:hover { transform:scale(1.02); box-shadow:0 4px 12px rgba(212,0,0,0.3); }
        .nft-card:focus { outline:2px solid #D40000; outline-offset:2px; }
        .nft-card img { width:100%; height:100%; object-fit:cover; display:block; transition:transform .25s; }
        .nft-card:hover img { transform:scale(1.05); }

        /* Loading Skeletons */
        .gallery-loading { text-align:center; padding:2rem 0; }
        .skeleton-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px; margin-bottom:1rem; }
        .skeleton-card { background:#0c0c0f; border:1px solid #1e1e28; border-radius:10px; aspect-ratio:1; position:relative; overflow:hidden; }
        .skeleton-card::after { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); animation:shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { left:-100%; } 100% { left:100%; } }

        /* Error States */
        .gallery-error { text-align:center; padding:2rem; background:rgba(212,0,0,0.1); border:1px solid rgba(212,0,0,0.3); border-radius:10px; margin:1rem 0; }
        .gallery-error h3 { color:#D40000; margin:0 0 0.5rem 0; }
        .gallery-error p { color:#ccc; margin:0 0 1rem 0; }
        .retry-btn { background:#D40000; color:#fff; border:none; padding:.5rem 1rem; border-radius:6px; cursor:pointer; transition:background .2s; }
        .retry-btn:hover { background:#ff1a1a; }

        /* Modal */
        .modal { position:fixed; inset:0; background:rgba(0,0,0,.8); display:none; align-items:center; justify-content:center; z-index:999; }
        .modal.show { display:flex; }
        .modal-content { background:#0c0c0f; padding:1rem; border-radius:12px; max-width:90vw; position:relative; }
        .modal-content img { max-width:70vw; max-height:70vh; display:block; margin-bottom:.5rem; border-radius:8px; }
        #modal-close { cursor:pointer; position:absolute; top:1rem; right:1rem; background:rgba(255,255,255,0.1); border:none; color:#fff; width:32px; height:32px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:1.2rem; transition:background .2s; }
        #modal-close:hover { background:rgba(212,0,0,0.5); }
        #modal-link { display:inline-block; background:#D40000; color:#fff; text-decoration:none; padding:.5rem 1rem; border-radius:6px; transition:background .2s; }
        #modal-link:hover { background:#ff1a1a; }

        /* Performance */
        .nft-card img { will-change:transform; }
        .skeleton-card::after { will-change:transform; }
        
        /* Terms of Service Styles */
        .terms { padding:4rem 0; background:var(--dark-gray); }
        .terms-content { max-width:800px; margin:0 auto; }
        .terms-header { background:rgba(212,0,0,0.1); border:1px solid rgba(212,0,0,0.3); border-radius:var(--border-radius); padding:2rem; margin-bottom:2rem; }
        .terms-section { background:rgba(40,40,55,0.8); border:1px solid rgba(255,255,255,0.15); border-radius:var(--border-radius); padding:2rem; margin-bottom:1.5rem; }
        .terms-subsection { margin-bottom:1.5rem; padding-bottom:1.5rem; border-bottom:1px solid rgba(255,255,255,0.1); }
        .terms-subsection:last-child { border-bottom:none; margin-bottom:0; padding-bottom:0; }
        .terms-section h3 { color:var(--primary); margin:0 0 1rem 0; font-size:1.3rem; }
        .terms-section h4 { color:var(--text-secondary); margin:0 0 0.5rem 0; font-size:1.1rem; }
        .terms-section p { color:var(--text); line-height:1.6; margin-bottom:1rem; }
        .terms-section ul { color:var(--text); line-height:1.6; margin:1rem 0; padding-left:2rem; }
        .terms-section li { margin-bottom:0.5rem; }

        /* Cookie Banner Styles */
        .mb-cookie-banner {
            position: fixed;
            left: 16px;
            right: 16px;
            bottom: 16px;
            z-index: 9999;
            display: none; /* shown via JS */
            justify-content: center;
            pointer-events: none;
        }

        .mb-cookie-card {
            width: min(860px, 100%);
            background: rgba(12, 12, 15, 0.92);
            border: 1px solid rgba(255, 255, 255, 0.14);
            border-radius: 14px;
            padding: 14px 14px 12px 14px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
            pointer-events: auto;
        }

        .mb-cookie-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 8px;
        }

        .mb-cookie-title {
            font-weight: 800;
            letter-spacing: 0.2px;
            color: #fff;
            font-size: 1.05rem;
        }

        .mb-cookie-x {
            border: 1px solid rgba(255,255,255,0.18);
            background: rgba(255,255,255,0.06);
            color: #fff;
            border-radius: 10px;
            width: 36px;
            height: 36px;
            cursor: pointer;
            transition: transform 0.15s ease, border-color 0.15s ease;
        }

        .mb-cookie-x:hover { transform: scale(1.04); border-color: rgba(212, 0, 0, 0.7); }

        .mb-cookie-text {
            color: rgba(255,255,255,0.82);
            font-size: 0.95rem;
            line-height: 1.45;
            margin-bottom: 10px;
        }

        .mb-cookie-link {
            color: #D40000;
            text-decoration: none;
            font-weight: 700;
        }
        .mb-cookie-link:hover { text-decoration: underline; }

        .mb-cookie-sep { color: rgba(255,255,255,0.35); padding: 0 6px; }

        .mb-cookie-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .mb-btn {
            border-radius: 12px;
            padding: 10px 14px;
            font-weight: 800;
            cursor: pointer;
            border: 1px solid rgba(255,255,255,0.16);
            transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
        }
        .mb-btn:active { transform: translateY(1px); }

        .mb-btn-primary {
            background: #D40000;
            border-color: rgba(212,0,0,0.9);
            color: #fff;
        }
        .mb-btn-primary:hover { background: #E00000; border-color: rgba(224,0,0,1); }

        .mb-btn-ghost {
            background: rgba(255,255,255,0.06);
            color: #fff;
        }
        .mb-btn-ghost:hover {
            border-color: rgba(212,0,0,0.55);
            background: rgba(255,255,255,0.08);
        }

        /* Settings panel */
        .mb-cookie-settings {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.12);
        }

        .mb-cookie-setting-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
        }

        .mb-cookie-setting-name { color: #fff; font-weight: 800; }
        .mb-cookie-setting-desc { color: rgba(255,255,255,0.65); font-size: 0.9rem; margin-top: 2px; }

        .mb-cookie-pill-fixed {
            background: rgba(255,255,255,0.08);
            border: 1px solid rgba(255,255,255,0.14);
            color: rgba(255,255,255,0.85);
            padding: 6px 10px;
            border-radius: 999px;
            font-weight: 800;
            font-size: 0.85rem;
        }

        /* Toggle switch */
        .mb-switch {
            position: relative;
            display: inline-block;
            width: 54px;
            height: 30px;
        }
        .mb-switch input { opacity: 0; width: 0; height: 0; }

        .mb-slider {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background: rgba(255,255,255,0.12);
            border: 1px solid rgba(255,255,255,0.16);
            transition: .2s;
            border-radius: 999px;
        }

        .mb-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            top: 3px;
            background: #fff;
            transition: .2s;
            border-radius: 50%;
        }

        .mb-switch input:checked + .mb-slider {
            background: rgba(212, 0, 0, 0.45);
            border-color: rgba(212,0,0,0.8);
        }

        .mb-switch input:checked + .mb-slider:before {
            transform: translateX(24px);
        }

        .mb-cookie-actions-settings { justify-content: flex-end; }

        /* Legal Modal Styles */
        .legal-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .legal-modal.show {
            display: flex;
        }

        .legal-modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
        }

        .legal-modal-content {
            position: relative;
            background: rgba(12, 12, 15, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.14);
            border-radius: 16px;
            max-width: 800px;
            width: 90%;
            max-height: 70vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
        }

        .legal-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px 16px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.12);
        }

        .legal-modal-title {
            color: #fff;
            font-size: 1.5rem;
            font-weight: 800;
            margin: 0;
            letter-spacing: 0.2px;
        }

        .legal-modal-close {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .legal-modal-close:hover {
            background: rgba(212, 0, 0, 0.2);
            border-color: rgba(212, 0, 0, 0.6);
            transform: scale(1.05);
        }

        .legal-modal-body {
            padding: 24px;
            overflow-y: auto;
            flex: 1;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .legal-modal-body .terms-header {
            background: rgba(212, 0, 0, 0.1);
            border: 1px solid rgba(212, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .legal-modal-body .terms-section {
            background: rgba(40, 40, 55, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .legal-modal-body .terms-subsection {
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .legal-modal-body .terms-subsection:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .legal-modal-body h3 {
            color: #D40000;
            margin: 0 0 12px 0;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .legal-modal-body h4 {
            color: rgba(255, 255, 255, 0.8);
            margin: 0 0 8px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .legal-modal-body p {
            margin: 0 0 12px 0;
            font-size: 0.95rem;
        }

        .legal-modal-body ul {
            margin: 8px 0;
            padding-left: 20px;
        }

        .legal-modal-body li {
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        /* Body scroll lock when modal is open */
        body.modal-open {
            overflow: hidden;
        }

        /* Legal Modal Responsive */
        @media (max-width: 768px) {
            .legal-modal-content {
                width: 95%;
                max-height: 80vh;
            }
            
            .legal-modal-header {
                padding: 16px 20px 12px 20px;
            }
            
            .legal-modal-body {
                padding: 16px;
            }
            
            .legal-modal-title {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 480px) {
            .legal-modal-content {
                width: 98%;
                max-height: 90vh;
                border-radius: 12px;
            }
            
            .legal-modal-header {
                padding: 12px 16px 8px 16px;
            }
            
            .legal-modal-body {
                padding: 12px;
            }
            
            .legal-modal-title {
                font-size: 1.2rem;
            }
            
            .legal-modal-close {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }
        }

        /* Timeline Styles */
        .timeline {
            padding: 2rem 0;
            background: var(--dark-gray);
        }

        .timeline-section {
            display: flex;
            gap: 0.375rem;
            align-items: flex-start;
            padding: 1rem 0;
            position: relative;
        }

        .timeline-section::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            transform: translateX(-50%);
            width: 1px;
            height: 100%;
            background: rgba(212, 0, 0, 0.1);
            border-radius: 1px;
        }

        .timeline-label {
            position: relative;
            font-size: 1.25rem;
            font-weight: 700;
            color: #ffffff;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            white-space: nowrap;
            line-height: 1.1;
            text-align: center;
            margin-bottom: 0.1rem;
        }

        .timeline-content {
            flex: 1;
            background: rgba(40, 40, 55, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 6px;
            padding: 1.2rem;
            position: relative;
            margin: 0 0 0 0;
        }

        .timeline-content h3 {
            color: #D40000;
            margin: 0 0 0.8rem 0;
            font-size: 1.525rem;
            font-weight: 700;
            letter-spacing: 0.02em;
            line-height: 1.25;
        }

        .timeline-content ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .timeline-content li {
            position: relative;
            padding-left: 1rem;
            margin-bottom: 0.3rem;
            font-size: 1.15rem;
            line-height: 1.3;
            color: rgba(255, 255, 255, 0.85);
        }

        .timeline-content li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: #ffffff;
            font-weight: 700;
            font-size: 1.1rem;
        }

        /* Timeline Responsive */
        @media (max-width: 768px) {
            .timeline {
                padding: 1.5rem 0;
            }
            
            .timeline-section {
                flex-direction: column;
                gap: 0.3rem;
                padding: 0.8rem 0;
                align-items: flex-start;
            }
            
            .timeline-section::before {
                display: none;
            }
            
            .timeline-label {
                position: relative;
                left: auto;
                transform: none;
                font-size: 1.05rem;
                margin-bottom: 0.05rem;
                text-align: left;
                letter-spacing: 0.08em;
            }
            
            .timeline-content {
                padding: 0.5rem;
                margin: 0.05rem 0 0;
            }
            
            .timeline-content h3 {
                font-size: 1.2rem;
                margin: 0 0 0.6rem 0;
            }
            
            .timeline-content li {
                padding-left: 0.8rem;
                margin-bottom: 0.25rem;
                font-size: 1rem;
                line-height: 1.25;
            }
        }

        @media (max-width: 480px) {
            .timeline {
                padding: 1rem 0;
            }
            
            .timeline-section {
                gap: 0.25rem;
                padding: 0.6rem 0;
                align-items: center;
            }
            
            .timeline-label {
                position: relative;
                left: auto;
                transform: none;
                font-size: 1.3rem;
                margin-bottom: 0.1rem;
                text-align: center;
                letter-spacing: 0.08em;
            }
            
            .timeline-content {
                padding: 1rem;
                margin: 0.1rem 0 0;
            }
            
            .timeline-content h3 {
                font-size: 1.15rem;
                margin: 0 0 0.5rem 0;
            }
            
            .timeline-content li {
                padding-left: 0.7rem;
                margin-bottom: 0.2rem;
                font-size: 0.95rem;
                line-height: 1.2;
            }
        }

        /* Preloader Styles */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f23 50%, #1a1a2e 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 1;
            visibility: visible;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .preloader-bats {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.8;
            overflow: hidden;
            z-index: 10;
        }

        .bat-small {
            font-size: 2rem;
            position: absolute;
            opacity: 0.9;
            animation: fly-chaotic-small 15s infinite linear;
        }

        .bat-medium {
            font-size: 3rem;
            position: absolute;
            opacity: 0.85;
            animation: fly-chaotic-medium 20s infinite linear;
        }

        .bat-large {
            font-size: 4rem;
            position: absolute;
            opacity: 0.8;
            animation: fly-chaotic-large 25s infinite linear;
        }

        /* Position bats randomly across the screen */
        .bat-small:nth-child(1) { top: 10%; left: -10%; animation-delay: 0s; }
        .bat-small:nth-child(4) { top: 30%; left: -10%; animation-delay: 3s; }
        .bat-small:nth-child(6) { top: 60%; left: -10%; animation-delay: 6s; }
        .bat-small:nth-child(8) { top: 80%; left: -10%; animation-delay: 9s; }

        .bat-medium:nth-child(2) { top: 20%; left: -10%; animation-delay: 1s; }
        .bat-medium:nth-child(5) { top: 50%; left: -10%; animation-delay: 4s; }
        .bat-medium:nth-child(8) { top: 70%; left: -10%; animation-delay: 7s; }

        .bat-large:nth-child(3) { top: 15%; left: -10%; animation-delay: 2s; }
        .bat-large:nth-child(7) { top: 45%; left: -10%; animation-delay: 5s; }

        .main-content {
            text-align: center;
            z-index: 5;
            position: relative;
        }

        .bat-main {
            font-size: 6rem;
            margin-bottom: 2rem;
            animation: pulse 2s infinite ease-in-out;
        }

        @keyframes fly-chaotic-small {
            0% { 
                transform: translateX(0) translateY(0) rotate(0deg); 
                left: -10%;
            }
            15% { 
                transform: translateX(200px) translateY(-50px) rotate(45deg); 
            }
            30% { 
                transform: translateX(400px) translateY(30px) rotate(-30deg); 
            }
            45% { 
                transform: translateX(600px) translateY(-80px) rotate(60deg); 
            }
            60% { 
                transform: translateX(800px) translateY(40px) rotate(-45deg); 
            }
            75% { 
                transform: translateX(1000px) translateY(-60px) rotate(30deg); 
            }
            90% { 
                transform: translateX(1100px) translateY(20px) rotate(-15deg); 
            }
            100% { 
                transform: translateX(1200px) translateY(0) rotate(0deg); 
                left: 110%;
            }
        }

        @keyframes fly-chaotic-medium {
            0% { 
                transform: translateX(0) translateY(0) rotate(0deg) scale(1); 
                left: -10%;
            }
            12% { 
                transform: translateX(150px) translateY(-80px) rotate(-60deg) scale(1.1); 
            }
            24% { 
                transform: translateX(300px) translateY(60px) rotate(40deg) scale(0.9); 
            }
            36% { 
                transform: translateX(500px) translateY(-100px) rotate(-80deg) scale(1.2); 
            }
            48% { 
                transform: translateX(700px) translateY(80px) rotate(50deg) scale(0.8); 
            }
            60% { 
                transform: translateX(900px) translateY(-120px) rotate(-70deg) scale(1.1); 
            }
            72% { 
                transform: translateX(1050px) translateY(40px) rotate(30deg) scale(0.9); 
            }
            85% { 
                transform: translateX(1150px) translateY(-60px) rotate(-20deg) scale(1); 
            }
            100% { 
                transform: translateX(1300px) translateY(0) rotate(0deg) scale(1); 
                left: 110%;
            }
        }

        @keyframes fly-chaotic-large {
            0% { 
                transform: translateX(0) translateY(0) rotate(0deg) scale(1); 
                left: -10%;
            }
            10% { 
                transform: translateX(100px) translateY(-120px) rotate(90deg) scale(1.3); 
            }
            20% { 
                transform: translateX(250px) translateY(100px) rotate(-120deg) scale(0.7); 
            }
            30% { 
                transform: translateX(450px) translateY(-150px) rotate(150deg) scale(1.4); 
            }
            40% { 
                transform: translateX(650px) translateY(120px) rotate(-180deg) scale(0.6); 
            }
            50% { 
                transform: translateX(850px) translateY(-180px) rotate(210deg) scale(1.5); 
            }
            60% { 
                transform: translateX(1000px) translateY(140px) rotate(-240deg) scale(0.8); 
            }
            70% { 
                transform: translateX(1150px) translateY(-160px) rotate(270deg) scale(1.2); 
            }
            80% { 
                transform: translateX(1250px) translateY(100px) rotate(-300deg) scale(0.9); 
            }
            90% { 
                transform: translateX(1350px) translateY(-80px) rotate(330deg) scale(1.1); 
            }
            100% { 
                transform: translateX(1400px) translateY(0) rotate(360deg) scale(1); 
                left: 110%;
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        /* Collection Links Styles */
        .collection-links {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .collection-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: white;
            background: rgba(40, 40, 55, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .collection-link:hover {
            background: rgba(212, 0, 0, 0.2);
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 0, 0, 0.3);
        }

        .collection-link span {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .collection-link small {
            font-size: 1.1rem;
            color: white;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .collection-link:hover small {
            opacity: 1;
        }

        /* iOS Game Section */
        .ios-game {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f23 50%, #1a1a2e 100%);
            padding: 4rem 0;
        }

        .game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .game-intro {
            color: white;
        }

        .game-tagline {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 1.5rem;
            line-height: 1.3;
        }

        .game-description {
            font-size: 1.1rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .iphone-mockup {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .iphone-mockup::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 580px;
            background: radial-gradient(circle, rgba(212, 0, 0, 0.1) 0%, transparent 70%);
            border-radius: 45px;
            z-index: -1;
            animation: phone-glow 4s infinite ease-in-out;
        }

        @keyframes phone-glow {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.02); }
        }

        .iphone-frame {
            width: 280px;
            height: 560px;
            background: #2a2a2a;
            border: 3px solid #444;
            border-radius: 40px;
            padding: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 
                        0 0 0 2px rgba(255, 255, 255, 0.1),
                        inset 0 0 20px rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .iphone-frame::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 6px;
            background: #1a1a1a;
            border: 1px solid #555;
            border-radius: 3px;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .iphone-screen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 28px;
            overflow: hidden;
            position: relative;
        }

        .game-screenshot {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .slideshow-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slide {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .slide.active {
            opacity: 1;
        }

        .game-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 28px;
        }

        .fallback-content {
            width: 100%;
            height: 100%;
        }

        .cave-background {
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #0a0a0f 0%, #1a1a2e 50%, #0f0f23 100%);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bat-character {
            font-size: 3rem;
            position: absolute;
            top: 40%;
            animation: float 3s infinite ease-in-out;
        }

        .lightning {
            font-size: 2rem;
            position: absolute;
            top: 20%;
            right: 30%;
            color: #ffeb3b;
            animation: lightning-flash 2s infinite;
        }

        .blood-drop {
            font-size: 1.5rem;
            position: absolute;
            bottom: 30%;
            left: 25%;
            color: var(--primary);
            animation: drop-fall 4s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes lightning-flash {
            0%, 90%, 100% { opacity: 0; }
            95% { opacity: 1; }
        }

        @keyframes drop-fall {
            0% { transform: translateY(-20px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(20px); opacity: 0; }
        }

        .game-features {
            grid-column: 1 / -1;
        }

        .game-features h3 {
            color: var(--primary);
            font-size: 1.8rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            background: rgba(40, 40, 55, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(212, 0, 0, 0.2);
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 0, 0, 0.3);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-card h4 {
            color: var(--primary);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .community-callout {
            text-align: center;
            margin-bottom: 3rem;
        }

        .callout-text {
            font-size: 1.3rem;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin: 0 auto;
        }

        .game-cta {
            text-align: center;
        }

        .nebra-effect {
            color: var(--primary);
            font-size: 1.1rem;
            font-weight: bold;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .nebra-effect:hover {
            opacity: 1;
        }

        
        .moon-overlay{
          position: fixed;
          top: 18px;
          left: 18px;
          width: 280px;
          min-height: 330px;
          padding: 20px;
          z-index: 9999;
          border-radius: 26px;
          background:
            radial-gradient(120px 120px at 20% 15%, rgba(212,0,0,0.22), rgba(0,0,0,0) 60%),
            radial-gradient(220px 180px at 80% 85%, rgba(120,0,40,0.18), rgba(0,0,0,0) 65%),
            radial-gradient(circle at top, rgba(10,10,14,0.92), rgba(6,6,9,0.96));
          border: 1px solid rgba(255,255,255,0.16);
          box-shadow:
            0 22px 70px rgba(0,0,0,0.72),
            0 0 26px rgba(212,0,0,0.20);
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          overflow: hidden;
        }

        .moon-overlay::before{
          content:"";
          position:absolute;
          inset:0;
          background:
            radial-gradient(1px 1px at 18% 22%, rgba(255,255,255,0.25), transparent 60%),
            radial-gradient(1px 1px at 62% 18%, rgba(255,255,255,0.18), transparent 60%),
            radial-gradient(1px 1px at 78% 42%, rgba(255,255,255,0.16), transparent 60%),
            radial-gradient(1px 1px at 34% 68%, rgba(255,255,255,0.14), transparent 60%),
            radial-gradient(1px 1px at 70% 78%, rgba(255,255,255,0.20), transparent 60%);
          opacity: 0.55;
          pointer-events:none;
        }

        .moon-overlay-inner{
          height: 100%;
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 18px;
        }

        .moon-overlay-close{
          position: absolute;
          top: 10px;
          right: 10px;
          width: 34px;
          height: 34px;
          border-radius: 12px;
          border: 1px solid rgba(255,255,255,0.14);
          background: rgba(0,0,0,0.35);
          color: rgba(255,255,255,0.9);
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          transition: transform .15s ease, border-color .15s ease, background .15s ease;
        }
        .moon-overlay-close:hover{
          transform: translateY(-1px);
          border-color: rgba(212,0,0,0.6);
          background: rgba(0,0,0,0.5);
        }

        .moon-graphic{
          width: 138px;
          height: 138px;
          border-radius: 50%;
          position: relative;
          border: 1px solid rgba(255,255,255,0.18);
          box-shadow:
            inset 0 0 0 1px rgba(0,0,0,0.35),
            inset -14px 10px 30px rgba(0,0,0,0.45),
            0 16px 40px rgba(0,0,0,0.55),
            0 0 18px rgba(212,0,0,0.18);
          overflow: hidden;
          background: #0b0b0e; /* will be overwritten by JS gradients */
        }

        .moon-graphic::after{
          content:"";
          position:absolute;
          inset:-2px;
          border-radius:50%;
          background: radial-gradient(circle at 30% 25%,
            rgba(255,255,255,0.20),
            rgba(255,255,255,0.0) 55%);
          pointer-events:none;
          mix-blend-mode: screen;
          opacity: 0.55;
        }

        .moon-text{
          text-align: center;
          line-height: 1.1;
        }

        .moon-phase-name{
          font-weight: 900;
          letter-spacing: 0.06em;
          font-size: 0.86rem;
          color: rgba(255,255,255,0.92);
          text-transform: uppercase;
          text-shadow: 0 6px 18px rgba(0,0,0,0.55);
        }

        .moon-phase-pct{
          font-weight: 950;
          font-size: 1.15rem;
          color: #D40000;
          margin-top: 6px;
          text-shadow: 0 0 18px rgba(212,0,0,0.45);
        }

        .moon-phase-sub{
          margin-top: 6px;
          font-size: 0.9rem;
          color: rgba(255,255,255,0.65);
        }

        .moon-overlay-toggle{
          position: fixed;
          left: 18px;
          top: 18px;
          z-index: 9998;
          display: none; /* shown only when overlay is closed */
          padding: 10px 12px;
          border-radius: 999px;
          border: 1px solid rgba(255,255,255,0.14);
          background: rgba(10,10,14,0.78);
          color: rgba(255,255,255,0.9);
          box-shadow: 0 18px 55px rgba(0,0,0,0.45);
          cursor: pointer;
          transition: transform .15s ease, border-color .15s ease;
        }
        .moon-overlay-toggle:hover{
          transform: translateY(-1px);
          border-color: rgba(212,0,0,0.6);
        }

        /* Mobile sizing */
        @media (max-width: 640px){
          .moon-overlay{
            width: 200px;
            min-height: 240px;
            padding: 16px;
            top: 12px;
            left: 12px;
            border-radius: 18px;
          }
          .moon-overlay-inner{
            gap: 12px;
          }
          .moon-graphic{ width: 92px; height: 92px; }
          .moon-phase-name{
            font-size: 0.8rem;
          }
          .moon-phase-pct{
            font-size: 1rem;
          }
          .moon-phase-sub{
            font-size: 0.75rem;
          }
          .moon-overlay-close{
            width: 30px;
            height: 30px;
            border-radius: 10px;
            top: 8px;
            right: 8px;
          }
          .moon-overlay-toggle{
            top: 12px;
            left: 12px;
            padding: 9px 11px;
          }
        }

        .ios-badge-wrap {
          display: inline-flex;
          flex-direction: column;
          align-items: center;
          gap: 6px;
          padding: 14px 18px;
          border-radius: 18px;
          background: radial-gradient(
            circle at top,
            rgba(212,0,0,0.18),
            rgba(12,12,15,0.92)
          );
          border: 1px solid rgba(212,0,0,0.45);
          box-shadow:
            0 0 0 rgba(212,0,0,0),
            0 12px 40px rgba(0,0,0,0.55);
          transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
        }

        .ios-badge-wrap:hover {
          transform: translateY(-2px);
          border-color: rgba(212,0,0,0.9);
          box-shadow:
            0 0 18px rgba(212,0,0,0.45),
            0 18px 50px rgba(0,0,0,0.7);
        }

        .ios-badge-img {
          height: 56px;
          width: auto;
        }

        .ios-badge-sub {
          font-size: 0.75rem;
          letter-spacing: 0.06em;
          color: rgba(255,255,255,0.65);
          text-transform: uppercase;
        }

        @media (max-width: 520px) {
          .ios-badge-img { height: 48px; }
        }

        @keyframes iosPulse {
          0% {
            box-shadow: 0 0 0 rgba(212,0,0,0);
          }
          50% {
            box-shadow: 0 0 22px rgba(212,0,0,0.55);
          }
          100% {
            box-shadow: 0 0 0 rgba(212,0,0,0);
          }
        }

        .ios-badge-wrap.pulse {
          animation: iosPulse 2.5s ease-in-out 1;
        }

        /* Tokenomics Section */
        .token-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .token-card {
            background: rgba(40, 40, 55, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: var(--border-radius);
            padding: 1.5rem;
        }

        .token-card h3 {
            color: var(--primary);
            margin: 0 0 1rem 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .token-value {
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            font-family: monospace;
            word-break: break-all;
        }

        .contract-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .contract-address {
            font-size: 0.9rem;
            flex: 1;
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 0.75rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 0.8rem;
            min-width: 80px;
            transition: var(--transition);
        }

        .copy-btn:hover {
            background: #b00000;
            transform: translateY(-1px);
        }

        .copy-feedback {
            color: #4ade80;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .copy-feedback.show {
            opacity: 1;
        }

        .token-distribution {
            display: grid;
            grid-template-columns: 150px 300px 1fr;
            gap: 2rem;
            align-items: center;
        }

        .tooltip-slot {
            position: relative;
            width: 150px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }

        .distribution-tooltip {
            position: absolute;
            right: 0;
            background: #ff2b2b;
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: normal;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            z-index: 100;
        }

        .tooltip-text {
            text-shadow: 
                -1px -1px 0 #000,
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000,
                0 -1px 0 #000,
                0 1px 0 #000,
                -1px 0 0 #000,
                1px 0 0 #000;
        }

        .distribution-tooltip.active {
            opacity: 1;
            visibility: visible;
        }

        .tooltip-content {
            position: relative;
            z-index: 2;
        }

        .tooltip-caret {
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-left-color: inherit;
        }

        .pie-chart-container {
            position: relative;
            width: 300px;
            height: 300px;
        }

        .pie-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            box-shadow: 0 10px 30px rgba(212, 0, 0, 0.3);
            transition: filter 0.3s ease, transform 0.3s ease;
        }

        .pie-chart.highlighted {
            filter: brightness(1.1);
            transform: scale(1.02);
        }

        .pie-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--dark-gray);
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--primary);
            z-index: 10;
        }

        .pie-symbol {
            color: var(--primary);
            font-size: 1.3rem;
            font-weight: bold;
        }

        .pie-total {
            color: var(--text-secondary);
            font-size: 0.7rem;
            margin-top: 0.2rem;
        }

        .distribution-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .distribution-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .distribution-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .distribution-label {
            font-weight: 500;
        }

        .distribution-percent {
            font-weight: bold;
        }

        .distribution-item.active {
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .tooltip-close {
            position: absolute;
            top: 4px;
            right: 4px;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .tooltip-close:hover {
            background: rgba(0, 0, 0, 0.5);
        }

        @media (max-width: 767px) {
            .tooltip-close {
                display: flex;
            }
        }

        /* Mobile niceness */
        @media (max-width: 520px) {
            .mb-cookie-actions { justify-content: stretch; }
            .mb-btn { flex: 1; }
        }

        /* Responsive */
        @media (max-width:768px) {
            .gallery-grid { grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:8px; }
            .skeleton-grid { grid-template-columns:repeat(auto-fill,minmax(140px,1fr)); gap:8px; }
            .modal-content { max-width:95vw; }
            .terms { padding:2rem 0; }
            .terms-section { padding:1.5rem; }
            
            /* iOS Game responsive */
            .game-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .iphone-frame {
                width: 240px;
                height: 480px;
            }
            
            .game-tagline {
                font-size: 1.2rem;
            }
            
            .game-description {
                font-size: 1rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .callout-text {
                font-size: 1.1rem;
            }
            
            /* Tokenomics responsive */
            .token-info-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .token-distribution {
                grid-template-columns: 1fr;
                gap: 2rem;
                align-items: center;
            }
            
            .tooltip-slot {
                width: 100%;
                height: auto;
                justify-content: center;
                margin-bottom: 1rem;
            }
            
            .distribution-tooltip {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                margin: 0 auto;
                text-align: center;
            }
            
            .tooltip-caret {
                display: none;
            }
            
            .pie-chart-container {
                width: 250px;
                height: 250px;
                margin: 0 auto;
            }
            
            .pie-center {
                width: 100px;
                height: 100px;
            }
            
            .pie-symbol {
                font-size: 1.1rem;
            }
            
            .pie-total {
                font-size: 0.6rem;
            }
        }
        @media (max-width:480px) {
            .gallery-grid { grid-template-columns:repeat(2,1fr); gap:6px; }
            .skeleton-grid { grid-template-columns:repeat(2,1fr); gap:6px; }
            .terms-section { padding:1rem; }
            .terms-section h3 { font-size:1.1rem; }
        }
    </style>
    
    <!-- Simple MoonBats Gallery -->
    <script>
        // Environment Configuration
        const process = { env: { OPENSEA_API_KEY: "28ec6ec0b00a4a2a9ddb67180071e784" } }; // üîê danach rotieren!
        const CHAINS = "ethereum";

        const COLLECTIONS = [
            { key: "moonbats",   name: "MoonBats",   contract: "0xdcaf23e44639daf29f6532da213999d737f15aa4" },
            { key: "moonvamps",  name: "MoonVamps",  contract: "0x67e23ce9d03aaaa1a95b6784eca0942c3f7d85fe" },
            { key: "moonmutants",name: "MoonMutants",contract: "0xc63b0e0A832A3A5C24Ba7768aaA39A2ea3995eFD" }
        ];

        const PER_COLLECTION = 24;

        // Web3 Gallery Functions
        let currentFilter = 'all';
        let galleryItems = [];
        let isLoading = false;

        // Rate limiting and caching
        const API_CACHE = new Map();
        const RATE_LIMIT_DELAY = 1000; // 1 second between requests
        let lastRequestTime = 0;

        // Fetch NFTs from OpenSea API v2 with rate limiting and caching
        async function fetchNFTsFromOpenSea(contract) {
            // Check cache first
            const cacheKey = `nfts_${contract}`;
            if (API_CACHE.has(cacheKey)) {
                const cached = API_CACHE.get(cacheKey);
                if (Date.now() - cached.timestamp < 300000) { // 5 minutes cache
                    return cached.data;
                }
            }

            // Rate limiting
            const now = Date.now();
            const timeSinceLastRequest = now - lastRequestTime;
            if (timeSinceLastRequest < RATE_LIMIT_DELAY) {
                await new Promise(resolve => setTimeout(resolve, RATE_LIMIT_DELAY - timeSinceLastRequest));
            }
            lastRequestTime = now;

            try {
                const response = await fetch(`https://api.opensea.io/v2/chain/ethereum/contract/${contract}/nfts`, {
                    headers: {
                        'X-API-KEY': process.env.OPENSEA_API_KEY
                    }
                });

                if (response.status === 429) {
                    throw new Error('Rate limit exceeded. Please try again later.');
                }

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                const nfts = data.nfts || [];
                
                // Cache the results
                API_CACHE.set(cacheKey, {
                    data: nfts,
                    timestamp: now
                });

                return nfts;
            } catch (error) {
                console.error('Error fetching NFTs:', error);
                throw error;
            }
        }

        // Create gallery item from OpenSea NFT data with accessibility
        function createGalleryItem(nft, collection) {
            const item = document.createElement('div');
            item.className = 'nft-card';
            item.dataset.collection = collection.key;
            item.setAttribute('role', 'button');
            item.setAttribute('tabindex', '0');
            item.setAttribute('aria-label', `${nft.name || `${collection.name} #${nft.identifier}`} - Click to view details`);
            
            // Get image URL from OpenSea NFT data
            const imageUrl = nft.image_url || nft.image?.url || `https://picsum.photos/seed/${collection.key}${nft.identifier}/400/400.jpg`;
            const openSeaUrl = nft.opensea_url || `https://opensea.io/assets/ethereum/${collection.contract}/${nft.identifier}`;
            const name = nft.name || `${collection.name} #${nft.identifier}`;

            // Create image with performance optimization
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = name;
            img.loading = 'lazy';
            img.decoding = 'async';
            img.setAttribute('loading', 'lazy');

            // Handle image loading errors with fallback
            img.addEventListener('error', () => {
                img.src = `https://picsum.photos/seed/${collection.key}${nft.identifier}/400/400.jpg`;
            });

            // Handle image load success
            img.addEventListener('load', () => {
                item.style.opacity = '1';
            });

            // Assemble item
            item.appendChild(img);

            // Add click event for modal
            item.addEventListener('click', () => {
                openModal(imageUrl, openSeaUrl);
            });

            // Add keyboard support
            item.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    openModal(imageUrl, openSeaUrl);
                }
            });

            return item;
        }

        // Randomize array
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Initialize gallery with OpenSea API and error handling
        async function initGallery() {
            const loadingEl = document.getElementById('gallery-loading');
            const errorEl = document.getElementById('gallery-error');
            const gridEl = document.getElementById('gallery-grid');

            if (!loadingEl || !gridEl) return;

            // Show loading state
            loadingEl.style.display = 'block';
            errorEl.style.display = 'none';
            gridEl.style.display = 'none';

            try {
                // Fetch NFTs from all collections with concurrency control
                const allNFTs = [];
                const batchSize = 2; // Process 2 collections at a time
                
                for (let i = 0; i < COLLECTIONS.length; i += batchSize) {
                    const batch = COLLECTIONS.slice(i, i + batchSize);
                    const batchPromises = batch.map(async (collection) => {
                        try {
                            const nfts = await fetchNFTsFromOpenSea(collection.contract);
                            
                            // Randomize and select 24 NFTs per collection
                            const shuffledNFTs = shuffleArray(nfts);
                            const selectedNFTs = shuffledNFTs.slice(0, PER_COLLECTION);
                            
                            // Create gallery items
                            return selectedNFTs.map(nft => {
                                const item = createGalleryItem(nft, collection);
                                galleryItems.push(item);
                                return item;
                            });
                        } catch (error) {
                            console.error(`Error fetching ${collection.name}:`, error);
                            // Return empty array for failed collection
                            return [];
                        }
                    });
                    
                    const batchResults = await Promise.all(batchPromises);
                    batchResults.flat().forEach(item => allNFTs.push(item));
                }

                // Randomize all items together
                const shuffledAll = shuffleArray(allNFTs);
                
                // Hide loading and show grid
                loadingEl.style.display = 'none';
                gridEl.style.display = 'grid';
                
                // Add to grid with staggered animation
                shuffledAll.forEach((item, index) => {
                    item.style.opacity = '0';
                    gridEl.appendChild(item);
                    
                    // Staggered fade-in
                    setTimeout(() => {
                        item.style.opacity = '1';
                    }, index * 50);
                });

            } catch (error) {
                console.error('Error initializing gallery:', error);
                showError(error.message);
            }
        }

        // Show error state
        function showError(message) {
            const loadingEl = document.getElementById('gallery-loading');
            const errorEl = document.getElementById('gallery-error');
            const errorMessageEl = document.getElementById('error-message');
            
            if (loadingEl) loadingEl.style.display = 'none';
            if (errorEl) errorEl.style.display = 'block';
            if (errorMessageEl) errorMessageEl.textContent = message;
        }

        // Fallback gallery with placeholder images
        function initFallbackGallery() {
            const gridEl = document.getElementById('gallery-grid');
            if (!gridEl) return;

            COLLECTIONS.forEach(collection => {
                for (let i = 1; i <= PER_COLLECTION; i++) {
                    const item = document.createElement('div');
                    item.className = 'nft-card';
                    item.dataset.collection = collection.key;
                    
                    const image = `https://picsum.photos/seed/${collection.key}${i}/400/400.jpg`;
                    const openSeaUrl = `https://opensea.io/assets/ethereum/${collection.contract}/${i}`;

                    const img = document.createElement('img');
                    img.src = image;
                    img.alt = `${collection.name} #${i}`;
                    img.loading = 'lazy';

                    item.appendChild(img);

                    item.addEventListener('click', () => {
                        openModal(image, openSeaUrl);
                    });

                    galleryItems.push(item);
                    gridEl.appendChild(item);
                }
            });
        }

        // Filter gallery items
        function filterGallery(filter) {
            currentFilter = filter;
            const items = document.querySelectorAll('.nft-card');
            
            items.forEach(item => {
                const shouldShow = filter === 'all' || item.dataset.collection === filter;
                item.style.display = shouldShow ? 'block' : 'none';
            });
        }

        // Open modal
        function openModal(image, openSeaUrl) {
            const modal = document.getElementById('nft-modal');
            const modalImg = document.getElementById('modal-img');
            const modalLink = document.getElementById('modal-link');

            if (modal && modalImg && modalLink) {
                modalImg.src = image;
                modalLink.href = openSeaUrl;
                
                modal.classList.add('show');
            }
        }

        // Close modal
        function closeModal() {
            const modal = document.getElementById('nft-modal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // Initialize filter buttons
        function initFilters() {
            const filterBtns = document.querySelectorAll('.gallery-controls button');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterBtns.forEach(b => b.classList.remove('active'));
                    
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    // Filter gallery
                    const filter = btn.dataset.filter;
                    filterGallery(filter);
                });
            });
        }

        // Cookie Banner Functionality
        function initCookieBanner() {
            const STORAGE_KEY = "mb_cookie_consent_v1";

            const banner = document.getElementById("cookie-banner");
            const settingsBtn = document.getElementById("cookie-settings");
            const settingsPanel = document.getElementById("cookie-settings-panel");
            const analyticsToggle = document.getElementById("cookie-analytics-toggle");

            const acceptBtn = document.getElementById("cookie-accept");
            const rejectBtn = document.getElementById("cookie-reject");
            const saveBtn = document.getElementById("cookie-save");
            const closeBtn = document.getElementById("cookie-close");

            if (!banner) return; // Exit if banner element doesn't exist

            function getConsent() {
                try { return JSON.parse(localStorage.getItem(STORAGE_KEY)); }
                catch { return null; }
            }

            function setConsent(consent) {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(consent));
            }

            function showBanner() {
                banner.style.display = "flex";
            }

            function hideBanner() {
                banner.style.display = "none";
                settingsPanel.hidden = true;
            }

            function applyConsent(consent) {
                // Hook: enable/disable analytics here.
                // Example:
                // if (consent.analytics) { startAnalytics(); } else { stopAnalytics(); }
                window.MOONBATS_COOKIE_CONSENT = consent; // optional global flag
            }

            function defaultConsent() {
                return { essential: true, analytics: false, timestamp: Date.now() };
            }

            function openSettings() {
                settingsPanel.hidden = false;
                const current = getConsent() || defaultConsent();
                analyticsToggle.checked = !!current.analytics;
            }

            // Initial check - only show banner if no consent exists
            const existing = getConsent();
            if (!existing) {
                showBanner();
                applyConsent(defaultConsent());
            } else {
                applyConsent(existing);
            }

            // Actions
            settingsBtn.addEventListener("click", () => {
                if (settingsPanel.hidden) openSettings();
                else settingsPanel.hidden = true;
            });

            acceptBtn.addEventListener("click", () => {
                const consent = { essential: true, analytics: true, timestamp: Date.now() };
                setConsent(consent);
                applyConsent(consent);
                hideBanner();
            });

            rejectBtn.addEventListener("click", () => {
                const consent = { essential: true, analytics: false, timestamp: Date.now() };
                setConsent(consent);
                applyConsent(consent);
                hideBanner();
            });

            saveBtn.addEventListener("click", () => {
                const consent = { essential: true, analytics: !!analyticsToggle.checked, timestamp: Date.now() };
                setConsent(consent);
                applyConsent(consent);
                hideBanner();
            });

            closeBtn.addEventListener("click", () => {
                // Close behaves like reject (privacy-friendly default)
                const consent = getConsent() || { essential: true, analytics: false, timestamp: Date.now() };
                setConsent(consent);
                applyConsent(consent);
                hideBanner();
            });
        }

        // Legal Modal Functionality
        function initLegalModal() {
            const modal = document.getElementById('legal-modal');
            const modalBackdrop = document.getElementById('legal-modal-backdrop');
            const modalTitle = document.getElementById('legal-modal-title');
            const modalBody = document.getElementById('legal-modal-body');
            const modalClose = document.getElementById('legal-modal-close');
            
            // Legal content containers
            const termsContent = document.getElementById('terms-content');
            const privacyContent = document.getElementById('privacy-content');
            const cookiePolicyContent = document.getElementById('cookie-policy-content');
            
            // Footer links
            const termsLink = document.querySelector('a[href="#terms"]');
            const privacyLink = document.querySelector('a[href="#privacy"]');
            const cookiePolicyLink = document.querySelector('a[href="#cookie-policy"]');
            
            let lastFocusedElement = null;
            
            function openModal(title, content) {
                modalTitle.textContent = title;
                modalBody.innerHTML = content.innerHTML;
                modal.classList.add('show');
                modal.setAttribute('aria-hidden', 'false');
                document.body.classList.add('modal-open');
                
                // Store last focused element for focus restoration
                lastFocusedElement = document.activeElement;
                
                // Focus trap
                setTimeout(() => {
                    modalClose.focus();
                }, 100);
            }
            
            function closeModal() {
                modal.classList.remove('show');
                modal.setAttribute('aria-hidden', 'true');
                document.body.classList.remove('modal-open');
                
                // Restore focus
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            }
            
            function handleKeydown(e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
                if (e.key === 'Tab') {
                    const focusableElements = modal.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];
                    
                    if (e.shiftKey) {
                        if (document.activeElement === firstElement) {
                            e.preventDefault();
                            lastElement.focus();
                        }
                    } else {
                        if (document.activeElement === lastElement) {
                            e.preventDefault();
                            firstElement.focus();
                        }
                    }
                }
            }
            
            // Event listeners
            termsLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal('Terms of Service', termsContent);
            });
            
            privacyLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal('Privacy Policy', privacyContent);
            });
            
            cookiePolicyLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal('Cookie Policy', cookiePolicyContent);
            });
            
            modalClose.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);
            document.addEventListener('keydown', handleKeydown);
        }

        // Initialize Web3 Gallery with retry functionality
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize cookie banner first
            initCookieBanner();
            
            // Initialize legal modal
            initLegalModal();
            
            // Initialize gallery
            initGallery();
            
            // Initialize filters
            initFilters();
            
            // Retry button
            const retryBtn = document.getElementById('retry-btn');
            if (retryBtn) {
                retryBtn.addEventListener('click', () => {
                    initGallery();
                });
            }
            
            // Modal close button
            const modalClose = document.getElementById('modal-close');
            if (modalClose) {
                modalClose.addEventListener('click', closeModal);
                modalClose.setAttribute('aria-label', 'Close modal');
            }
            
            // Close modal on background click
            const modal = document.getElementById('nft-modal');
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            }
            
            // Close modal on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Handle page visibility change for performance
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) {
                    // Refresh gallery when page becomes visible again
                    const timeSinceLastLoad = Date.now() - lastRequestTime;
                    if (timeSinceLastLoad > 300000) { // 5 minutes
                        initGallery();
                    }
                }
            });
                
                
        // Copy buttons
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(button => {
                const address = button.dataset.address;
                if (address) {
                    button.addEventListener('click', () => {
                        navigator.clipboard.writeText(address).then(() => {
                            const originalText = button.textContent;
                            button.textContent = '‚úì Copied!';
                            setTimeout(() => {
                                button.textContent = originalText;
                            }, 2000);
                        }).catch(err => {
                            console.error('Failed to copy address:', err);
                        });
                    });
                }
            });
            
            // Team avatar fallbacks
            const teamImages = document.querySelectorAll('.team-avatar-img');
            teamImages.forEach(img => {
                const fallback = img.dataset.fallback;
                if (fallback) {
                    img.addEventListener('error', () => {
                        img.src = fallback;
                    });
                }
            });
            
            // Pie chart hover functionality
            const pieChartOverlay = document.getElementById('pieChartOverlay');
            const pieChart = document.querySelector('.pie-chart');
            
            if (pieChartOverlay && pieChart) {
                pieChartOverlay.addEventListener('mousemove', (e) => {
                    const rect = pieChart.getBoundingClientRect();
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;
                    
                    const x = e.clientX - centerX;
                    const y = centerY - e.clientY;
                    
                    let angle = Math.atan2(y, x) * (180 / Math.PI);
                    if (angle < 0) angle += 360;
                    
                    let segment;
                    if (angle < 144) segment = "40";
                    else if (angle < 216) segment = "20";
                    else if (angle < 270) segment = "15";
                    else if (angle < 306) segment = "10-1";
                    else if (angle < 342) segment = "10-2";
                    else segment = "5";
                    
                    // Hide all tooltips and labels first
                    document.querySelectorAll('.tooltip, .segment-label').forEach(el => {
                        el.style.opacity = '0';
                        el.style.visibility = 'hidden';
                    });
                    
                    // Show only the matching tooltip and label
                    const tooltip = document.getElementById('tooltip-' + segment);
                    const label = document.getElementById('label-' + segment);
                    
                    if (tooltip) {
                        tooltip.style.opacity = '1';
                        tooltip.style.visibility = 'visible';
                        // Position tooltip near the mouse
                        const tooltipRect = tooltip.getBoundingClientRect();
                        const pieRect = pieChart.getBoundingClientRect();
                        tooltip.style.left = (e.clientX - pieRect.left - 75) + 'px';
                        tooltip.style.top = (e.clientY - pieRect.top - 40) + 'px';
                    }
                    if (label) {
                        label.style.opacity = '1';
                    }
                });
                
                pieChartOverlay.addEventListener('mouseleave', () => {
                    // Hide all tooltips and labels
                    document.querySelectorAll('.tooltip, .segment-label').forEach(el => {
                        el.style.opacity = '0';
                        el.style.visibility = 'hidden';
                    });
                });
            }
        });

        // Tokenomics Implementation
        const tokenomics = {
            symbol: "$BLOOD",
            totalSupply: "1,000,000,000",
            contractAddress: "0x3982E57fF1b193Ca8eb03D16Db268Bd4B40818f8",
            distribution: [
                { id: "community", label: "Community & Rewards", percent: 40, color: "#ff2b2b" },
                { id: "team", label: "Team & Development", percent: 20, color: "#b00000" },
                { id: "marketing", label: "Marketing", percent: 15, color: "#ff6b6b" },
                { id: "liquidity", label: "Liquidity", percent: 10, color: "#47c9ff" },
                { id: "staking", label: "Staking Rewards", percent: 10, color: "#39d6c5" },
                { id: "reserve", label: "Reserve", percent: 5, color: "#a8e6cf" }
            ]
        };

        class TokenomicsSection {
            constructor() {
                this.activeId = null;
                this.isMobile = window.innerWidth < 768;
                this.init();
                this.setupResponsiveCheck();
            }

            init() {
                this.renderTokenInfo();
                this.renderPieChart();
                this.renderDistributionList();
                this.setupTooltip();
                this.setupCopyButton();
            }

            renderTokenInfo() {
                // Total Supply
                const totalSupplyEl = document.getElementById('total-supply');
                if (totalSupplyEl) {
                    totalSupplyEl.textContent = `${tokenomics.totalSupply} ${tokenomics.symbol}`;
                }

                // Contract Address
                const contractEl = document.getElementById('contract-address');
                if (contractEl) {
                    contractEl.textContent = tokenomics.contractAddress;
                }

                // Pie center info
                const pieSymbolEl = document.querySelector('.pie-symbol');
                const pieTotalEl = document.querySelector('.pie-total');
                if (pieSymbolEl) pieSymbolEl.textContent = tokenomics.symbol;
                if (pieTotalEl) pieTotalEl.textContent = `${tokenomics.totalSupply} Total`;
            }

            renderPieChart() {
                const pieChart = document.getElementById('pie-chart');
                if (!pieChart) return;

                // Create conic gradient from distribution data
                let gradientStops = [];
                let currentPercent = 0;
                
                tokenomics.distribution.forEach(item => {
                    const startPercent = currentPercent;
                    const endPercent = currentPercent + item.percent;
                    gradientStops.push(`${item.color} ${startPercent}% ${endPercent}%`);
                    currentPercent = endPercent;
                });

                const gradient = `conic-gradient(${gradientStops.join(', ')})`;
                pieChart.style.background = gradient;
            }

            renderDistributionList() {
                const listEl = document.getElementById('distribution-list');
                if (!listEl) return;

                listEl.innerHTML = '';
                
                tokenomics.distribution.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'distribution-item';
                    itemEl.dataset.id = item.id;
                    itemEl.dataset.label = item.label;
                    itemEl.dataset.percent = item.percent;
                    itemEl.dataset.color = item.color;
                    
                    // Accessibility attributes
                    itemEl.setAttribute('role', 'button');
                    itemEl.setAttribute('tabIndex', '0');
                    itemEl.setAttribute('aria-expanded', 'false');

                    itemEl.innerHTML = `
                        <span class="distribution-label" style="color: ${item.color}">${item.label}</span>
                        <span class="distribution-percent" style="color: ${item.color}">${item.percent}%</span>
                    `;

                    listEl.appendChild(itemEl);
                });
            }

            setupResponsiveCheck() {
                const checkResponsive = () => {
                    const wasMobile = this.isMobile;
                    this.isMobile = window.innerWidth < 768;
                    
                    if (wasMobile !== this.isMobile) {
                        // Reset active state when switching between mobile/desktop
                        this.setActiveId(null);
                        this.updateTooltipVisibility();
                    }
                };

                window.addEventListener('resize', checkResponsive);
            }

            setupTooltip() {
                const tooltip = document.getElementById('distribution-tooltip');
                const tooltipText = tooltip.querySelector('.tooltip-text');
                const tooltipCaret = tooltip.querySelector('.tooltip-caret');
                const tooltipClose = document.getElementById('tooltip-close');
                const distributionItems = document.querySelectorAll('.distribution-item');
                const pieChart = document.getElementById('pie-chart');

                distributionItems.forEach((item, index) => {
                    // Desktop hover behavior
                    item.addEventListener('mouseenter', () => {
                        if (!this.isMobile) {
                            this.setActiveId(item.dataset.id);
                            this.updateTooltip(item, tooltip, tooltipText, tooltipCaret, pieChart);
                        }
                    });

                    item.addEventListener('mouseleave', () => {
                        if (!this.isMobile) {
                            this.setActiveId(null);
                            this.updateTooltipVisibility();
                        }
                    });

                    // Mobile tap behavior
                    item.addEventListener('click', (e) => {
                        if (this.isMobile) {
                            e.preventDefault();
                            const itemId = item.dataset.id;
                            
                            // Toggle active state
                            if (this.activeId === itemId) {
                                this.setActiveId(null);
                            } else {
                                this.setActiveId(itemId);
                                this.updateTooltip(item, tooltip, tooltipText, tooltipCaret, pieChart);
                            }
                        }
                    });

                    // Keyboard accessibility
                    item.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            item.click();
                        }
                    });
                });

                // Close button functionality (mobile only)
                if (tooltipClose) {
                    tooltipClose.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.setActiveId(null);
                        this.updateTooltipVisibility();
                    });
                }

                // Click outside to close (mobile only)
                document.addEventListener('click', (e) => {
                    if (this.isMobile && this.activeId) {
                        if (!e.target.closest('.distribution-item') && !e.target.closest('.distribution-tooltip')) {
                            this.setActiveId(null);
                            this.updateTooltipVisibility();
                        }
                    }
                });
            }

            updateTooltip(item, tooltip, tooltipText, tooltipCaret, pieChart) {
                // Update tooltip content
                const label = item.dataset.label;
                const percent = item.dataset.percent;
                const color = item.dataset.color;
                
                tooltipText.textContent = `${label} ‚Äî ${percent}%`;
                tooltip.style.backgroundColor = color;
                tooltipCaret.style.borderLeftColor = color;
                
                if (this.isMobile) {
                    // Mobile: position in center of tooltip slot
                    tooltip.style.top = '50%';
                    tooltip.style.transform = 'translateY(-50%)';
                } else {
                    // Desktop: position to align with hovered item
                    const itemRect = item.getBoundingClientRect();
                    const tooltipSlot = document.querySelector('.tooltip-slot');
                    const slotRect = tooltipSlot.getBoundingClientRect();
                    
                    const tooltipHeight = tooltip.offsetHeight;
                    const itemCenter = itemRect.top - slotRect.top + (itemRect.height / 2);
                    const tooltipTop = itemCenter - (tooltipHeight / 2);
                    
                    // Keep tooltip within slot bounds
                    let finalTop = tooltipTop;
                    if (finalTop < 10) finalTop = 10;
                    if (finalTop + tooltipHeight > slotRect.height - 10) {
                        finalTop = slotRect.height - tooltipHeight - 10;
                    }
                    
                    tooltip.style.top = `${finalTop}px`;
                    tooltip.style.transform = 'none';
                }
                
                this.updateTooltipVisibility();
                
                // Highlight pie chart
                if (pieChart) {
                    pieChart.classList.add('highlighted');
                }
            }

            updateTooltipVisibility() {
                const tooltip = document.getElementById('distribution-tooltip');
                const pieChart = document.getElementById('pie-chart');
                const distributionItems = document.querySelectorAll('.distribution-item');
                
                if (this.activeId) {
                    tooltip.classList.add('active');
                    
                    // Update active state and accessibility
                    distributionItems.forEach(item => {
                        const isActive = item.dataset.id === this.activeId;
                        item.classList.toggle('active', isActive);
                        item.setAttribute('aria-expanded', isActive.toString());
                    });
                } else {
                    tooltip.classList.remove('active');
                    
                    // Remove active state and reset accessibility
                    distributionItems.forEach(item => {
                        item.classList.remove('active');
                        item.setAttribute('aria-expanded', 'false');
                    });
                    
                    if (pieChart) {
                        pieChart.classList.remove('highlighted');
                    }
                }
            }

            setupCopyButton() {
                const copyBtn = document.getElementById('copy-contract');
                const feedback = document.getElementById('copy-feedback');
                
                if (!copyBtn || !feedback) return;

                copyBtn.addEventListener('click', async () => {
                    try {
                        await navigator.clipboard.writeText(tokenomics.contractAddress);
                        
                        // Show feedback
                        feedback.classList.add('show');
                        copyBtn.textContent = '‚úì Copied';
                        
                        // Reset after 2 seconds
                        setTimeout(() => {
                            feedback.classList.remove('show');
                            copyBtn.textContent = 'üìã Copy';
                        }, 2000);
                        
                    } catch (err) {
                        // Fallback for older browsers
                        const textArea = document.createElement('textarea');
                        textArea.value = tokenomics.contractAddress;
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        
                        feedback.classList.add('show');
                        copyBtn.textContent = '‚úì Copied';
                        
                        setTimeout(() => {
                            feedback.classList.remove('show');
                            copyBtn.textContent = 'üìã Copy';
                        }, 2000);
                    }
                });
            }

            setActiveId(id) {
                this.activeId = id;
            }
        }

        // Initialize tokenomics when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new TokenomicsSection();
            initGameSlideshow();
            initIOSBadgePulse();
        });

        // iOS Badge Pulse Animation
        function initIOSBadgePulse() {
            const badge = document.querySelector(".ios-badge-wrap");
            if (!badge) return;

            // nur einmal pro Session
            if (sessionStorage.getItem("iosPulseShown")) return;

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            badge.classList.add("pulse");
                            sessionStorage.setItem("iosPulseShown", "true");
                            observer.disconnect(); // wichtig: nur 1x
                        }
                    });
                },
                {
                    threshold: 0.4 // 40 % sichtbar ‚Üí perfekt
                }
            );

            observer.observe(badge);
        }

        // Game Slideshow
        function initGameSlideshow() {
            const slides = document.querySelectorAll('.slide');
            let currentSlide = 0;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }

            // Check if images are loaded, otherwise show fallback
            function checkImages() {
                const images = document.querySelectorAll('.game-image');
                let allLoaded = true;
                
                images.forEach((img, index) => {
                    if (!img.complete || img.naturalHeight === 0) {
                        allLoaded = false;
                        // Trigger fallback manually if image fails to load
                        img.style.display = 'none';
                        const fallback = img.nextElementSibling;
                        if (fallback) {
                            fallback.style.display = 'block';
                        }
                    }
                });

                // If no images loaded, show fallback for all
                if (!allLoaded) {
                    images.forEach(img => {
                        img.style.display = 'none';
                        const fallback = img.nextElementSibling;
                        if (fallback) {
                            fallback.style.display = 'block';
                        }
                    });
                }
            }

            // Start slideshow
            if (slides.length > 0) {
                // Wait a moment for images to load
                setTimeout(() => {
                    checkImages();
                    showSlide(0);
                    setInterval(nextSlide, 3000); // Change slide every 3 seconds
                }, 1000);
            }
        }

            </script>
<script>
(function(){
  function moonPhaseFraction(date){
    const year = date.getUTCFullYear();
    const month = date.getUTCMonth() + 1;
    const day = date.getUTCDate() + (date.getUTCHours()/24) + (date.getUTCMinutes()/(24*60));

    const A = Math.floor((14 - month)/12);
    const Y = year + 4800 - A;
    const M = month + 12*A - 3;

    const JDN = day + Math.floor((153*M + 2)/5) + 365*Y + Math.floor(Y/4) - Math.floor(Y/100) + Math.floor(Y/400) - 32045;
    const JD = JDN;

    const synodicMonth = 29.53058867;
    const daysSinceNew = JD - 2451550.1;
    let phase = (daysSinceNew / synodicMonth) % 1;
    if (phase < 0) phase += 1;
    return phase; // 0..1
  }

  function phaseName(phase){
    const eighth = 1/8;
    if (phase < eighth || phase >= 1 - eighth) return "New Moon";
    if (phase < 3*eighth) return "Waxing Crescent";
    if (phase < 5*eighth) return "First Quarter";
    if (phase < 7*eighth) return "Waxing Gibbous";
    if (phase < 9*eighth) return "Full Moon";
    if (phase < 11*eighth) return "Waning Gibbous";
    if (phase < 13*eighth) return "Last Quarter";
    return "Waning Crescent";
  }

  function illuminationPercent(phase){
    const illum = (1 - Math.cos(2 * Math.PI * phase)) / 2;
    return Math.round(illum * 100);
  }

  // Realistic moon look: craters + depth + moving terminator
  function renderMoon(el, phase){
    const waxing = phase <= 0.5;
    const p = waxing ? (phase / 0.5) : ((1 - phase) / 0.5); // 0..1 (0=new ‚Üí 1=full)
    const offset = (1 - p) * 55; // how far the light moves

    // Light on right for waxing, left for waning (Northern Hemisphere default)
    const lightX = waxing ? (50 + offset) : (50 - offset);

    // Crater texture (static) + illumination (dynamic)
    // 1) base moon surface
    // 2) crater speckles
    // 3) limb darkening
    // 4) terminator light (moves)
    el.style.background = `
      /* terminator / illuminated part */
      radial-gradient(circle at ${lightX}% 45%,
        rgba(245,245,245,0.98) 0%,
        rgba(230,230,230,0.92) 38%,
        rgba(200,200,200,0.65) 52%,
        rgba(20,20,26,0.0) 63%),
   
      /* crater texture (multiple tiny craters) */
      radial-gradient(circle at 28% 32%, rgba(0,0,0,0.18) 0 6px, transparent 7px),
      radial-gradient(circle at 42% 54%, rgba(0,0,0,0.14) 0 5px, transparent 6px),
      radial-gradient(circle at 62% 40%, rgba(0,0,0,0.16) 0 4px, transparent 5px),
      radial-gradient(circle at 70% 62%, rgba(0,0,0,0.12) 0 5px, transparent 6px),
      radial-gradient(circle at 36% 70%, rgba(0,0,0,0.10) 0 4px, transparent 5px),
      radial-gradient(circle at 55% 25%, rgba(0,0,0,0.10) 0 3px, transparent 4px),

      /* surface noise shading */
      radial-gradient(circle at 30% 30%, rgba(255,255,255,0.20), rgba(255,255,255,0.0) 55%),
      radial-gradient(circle at 70% 70%, rgba(0,0,0,0.22), rgba(0,0,0,0.0) 60%),

      /* limb darkening / sphere depth */
      radial-gradient(circle at 50% 50%,
        rgba(255,255,255,0.18) 0%,
        rgba(0,0,0,0.35) 62%,
        rgba(0,0,0,0.85) 100%),

      /* base moon color */
      radial-gradient(circle at 45% 40%,
        #e9e9e9 0%,
        #cfcfcf 55%,
        #9c9c9c 100%)
    `;
  }

  function init(){
    const overlay = document.getElementById("moonOverlay");
    const toggle  = document.getElementById("moonOverlayToggle");
    const closeBtn= document.getElementById("moonOverlayClose");

    const graphic = document.getElementById("moonGraphic");
    const nameEl  = document.getElementById("moonPhaseName");
    const pctEl   = document.getElementById("moonPhasePct");
    const subEl   = document.getElementById("moonPhaseSub");

    if (!overlay || !toggle || !closeBtn || !graphic || !nameEl || !pctEl || !subEl) {
      console.error("Moon overlay elements missing. Check IDs in HTML.");
      return;
    }

    // close/open persistence
    const isClosed = localStorage.getItem("moonOverlayClosed") === "true";
    overlay.style.display = isClosed ? "none" : "block";
    toggle.style.display  = isClosed ? "inline-flex" : "none";

    closeBtn.addEventListener("click", () => {
      overlay.style.display = "none";
      toggle.style.display = "inline-flex";
      localStorage.setItem("moonOverlayClosed", "true");
    });

    toggle.addEventListener("click", () => {
      overlay.style.display = "block";
      toggle.style.display = "none";
      localStorage.setItem("moonOverlayClosed", "false");
      update(); // refresh when opened
    });

    function update(){
      const now = new Date();
      const phase = moonPhaseFraction(now);
      const name = phaseName(phase);
      const illum = illuminationPercent(phase);

      renderMoon(graphic, phase);

      nameEl.textContent = name;
      pctEl.textContent = illum + "%";
      const localTime = now.toLocaleString(undefined, { hour:"2-digit", minute:"2-digit" });
      subEl.textContent = "Local time ¬∑ " + localTime;

      overlay.setAttribute("aria-label", `Moon phase: ${name}, ${illum}% illumination`);
    }

    update();
  }

  document.addEventListener("DOMContentLoaded", init);
})();
</script>
<script>
  (function () {
    const menuBtn = document.querySelector('.mobile-menu-btn');
    const navLinks = document.querySelector('.nav-links');

    if (!menuBtn || !navLinks) return;

    // toggle open/close
    menuBtn.addEventListener('click', () => {
      navLinks.classList.toggle('is-open');
      menuBtn.setAttribute('aria-expanded', navLinks.classList.contains('is-open'));
    });

    // close when clicking a link
    navLinks.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        navLinks.classList.remove('is-open');
        menuBtn.setAttribute('aria-expanded', 'false');
      });
    });

    // close when clicking outside
    document.addEventListener('click', (e) => {
      const clickedInside = navLinks.contains(e.target) || menuBtn.contains(e.target);
      if (!clickedInside) {
        navLinks.classList.remove('is-open');
        menuBtn.setAttribute('aria-expanded', 'false');
      }
    });
  })();
</script>
</body>
</html>
